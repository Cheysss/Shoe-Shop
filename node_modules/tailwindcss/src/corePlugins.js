import fs from 'fs'
import * as path from 'path'
import postcss from 'postcss'
import createUtilityPlugin from './util/createUtilityPlugin'
import buildMediaQuery from './util/buildMediaQuery'
import escapeClassName from './util/escapeClassName'
import parseAnimationValue from './util/parseAnimationValue'
import flattenColorPalette from './util/flattenColorPalette'
import withAlphaVariable, { withAlphaValue } from './util/withAlphaVariable'
import toColorValue from './util/toColorValue'
import isPlainObject from './util/isPlainObject'
import transformThemeValue from './util/transformThemeValue'
import { version as tailwindVersion } from '../package.json'
import log from './util/log'
import {
  normalizeScreens,
  isScreenSortable,
  compareScreens,
  toScreen,
} from './util/normalizeScreens'
import { formatBoxShadowValue, parseBoxShadowValue } from './util/parseBoxShadowValue'
import { removeAlphaVariables } from './util/removeAlphaVariables'
import { flagEnabled } from './featureFlags'
import { normalize } from './util/dataTypes'
import { INTERNAL_FEATURES } from './lib/setupContextUtils'

export let variantPlugins = {
  childVariant: ({ addVariant }) => {
    addVariant('*', '& > *')
  },
  pseudoElementVariants: ({ addVariant }) => {
    addVariant('first-letter', '&::first-letter')
    addVariant('first-line', '&::first-line')

    addVariant('marker', [
      ({ container }) => {
        removeAlphaVariables(container, ['--tw-text-opacity'])

        return '& *::marker'
      },
      ({ container }) => {
        removeAlphaVariables(container, ['--tw-text-opacity'])

        return '&::marker'
      },
    ])

    addVariant('selection', ['& *::selection', '&::selection'])

    addVariant('file', '&::file-selector-button')

    addVariant('placeholder', '&::placeholder')

    addVariant('backdrop', '&::backdrop')

    addVariant('before', ({ container }) => {
      container.walkRules((rule) => {
        let foundContent = false
        rule.walkDecls('content', () => {
          foundContent = true
        })

        if (!foundContent) {
          rule.prepend(postcss.decl({ prop: 'content', value: 'var(--tw-content)' }))
        }
      })

      return '&::before'
    })

    addVariant('after', ({ container }) => {
      container.walkRules((rule) => {
        let foundContent = false
        rule.walkDecls('content', () => {
          foundContent = true
        })

        if (!foundContent) {
          rule.prepend(postcss.decl({ prop: 'content', value: 'var(--tw-content)' }))
        }
      })

      return '&::after'
    })
  },

  pseudoClassVariants: ({ addVariant, matchVariant, config, prefix }) => {
    let pseudoVariants = [
      // Positional
      ['first', '&:first-child'],
      ['last', '&:last-child'],
      ['only', '&:only-child'],
      ['odd', '&:nth-child(odd)'],
      ['even', '&:nth-child(even)'],
      'first-of-type',
      'last-of-type',
      'only-of-type',

      // State
      [
        'visited',
        ({ container }) => {
          removeAlphaVariables(container, [
            '--tw-text-opacity',
            '--tw-border-opacity',
            '--tw-bg-opacity',
          ])

          return '&:visited'
        },
      ],
      'target',
      ['open', '&[open]'],

      // Forms
      'default',
      'checked',
      'indeterminate',
      'placeholder-shown',
      'autofill',
      'optional',
      'required',
      'valid',
      'invalid',
      'in-range',
      'out-of-range',
      'read-only',

      // Content
      'empty',

      // Interactive
      'focus-within',
      [
        'hover',
        !flagEnabled(config(), 'hoverOnlyWhenSupported')
          ? '&:hover'
          : '@media (hover: hover) and (pointer: fine) { &:hover }',
      ],
      'focus',
      'focus-visible',
      'active',
      'enabled',
      'disabled',
    ].map((variant) => (Array.isArray(variant) ? variant : [variant, `&:${variant}`]))

    for (let [variantName, state] of pseudoVariants) {
      addVariant(variantName, (ctx) => {
        let result = typeof state === 'function' ? state(ctx) : state

        return result
      })
    }

    let variants = {
      group: (_, { modifier }) =>
        modifier
          ? [`:merge(${prefix('.group')}\\/${escapeClassName(modifier)})`, ' &']
          : [`:merge(${prefix('.group')})`, ' &'],
      peer: (_, { modifier }) =>
        modifier
          ? [`:merge(${prefix('.peer')}\\/${escapeClassName(modifier)})`, ' ~ &']
          : [`:merge(${prefix('.peer')})`, ' ~ &'],
    }

    for (let [name, fn] of Object.entries(variants)) {
      matchVariant(
        name,
        (value = '', extra) => {
          let result = normalize(typeof value === 'function' ? value(extra) : value)
          if (!result.includes('&')) result = '&' + result

          let [a, b] = fn('', extra)

          let start = null
          let end = null
          let quotes = 0

          for (let i = 0; i < result.length; ++i) {
            let c = result[i]
            if (c === '&') {
              start = i
            } else if (c === "'" || c === '"') {
              quotes += 1
            } else if (start !== null && c === ' ' && !quotes) {
              end = i
            }
          }

          if (start !== null && end === null) {
            end = result.length
          }

          // Basically this but can handle quotes:
          // result.replace(/&(\S+)?/g, (_, pseudo = '') => a + pseudo + b)

          return result.slice(0, start) + a + result.slice(start + 1, end) + b + result.slice(end)
        },
        {
          values: Object.fromEntries(pseudoVariants),
          [INTERNAL_FEATURES]: {
            respectPrefix: false,
          },
        }
      )
    }
  },

  directionVariants: ({ addVariant }) => {
    addVariant('ltr', '&:where([dir="ltr"], [dir="ltr"] *)')
    addVariant('rtl', '&:where([dir="rtl"], [dir="rtl"] *)')
  },

  reducedMotionVariants: ({ addVariant }) => {
    addVariant('motion-safe', '@media (prefers-reduced-motion: no-preference)')
    addVariant('motion-reduce', '@media (prefers-reduced-motion: reduce)')
  },

  darkVariants: ({ config, addVariant }) => {
    let [mode, selector = '.dark'] = [].concat(config('darkMode', 'media'))

    if (mode === false) {
      mode = 'media'
      log.warn('darkmode-false', [
        'The `darkMode` option in your Tailwind CSS configuration is set to `false`, which now behaves the same as `media`.',
        'Change `darkMode` to `media` or remove it entirely.',
        'https://tailwindcss.com/docs/upgrade-guide#remove-dark-mode-configuration',
      ])
    }

    if (mode === 'variant') {
      let formats
      if (Array.isArray(selector)) {
        formats = selector
      } else if (typeof selector === 'function') {
        formats = selector
      } else if (typeof selector === 'string') {
        formats = [selector]
      }

      // TODO: We could also add these warnings if the user passes a function that returns string | string[]
      // But this is an advanced enough use case that it's probably not necessary
      if (Array.isArray(formats)) {
        for (let format of formats) {
          if (format === '.dark') {
            mode = false
            log.warn('darkmode-variant-without-selector', [
              'When using `variant` for `darkMode`, you must provide a selector.',
              'Example: `darkMode: ["variant", ".your-selector &"]`',
            ])
          } else if (!format.includes('&')) {
            mode = false
            log.warn('darkmode-variant-without-ampersand', [
              'When using `variant` for `darkMode`, your selector must contain `&`.',
              'Example `darkMode: ["variant", ".your-selector &"]`',
            ])
          }
        }
      }

      selector = formats
    }

    if (mode === 'selector') {
      // New preferred behavior
      addVariant('dark', `&:where(${selector}, ${selector} *)`)
    } else if (mode === 'media') {
      addVariant('dark', '@media (prefers-color-scheme: dark)')
    } else if (mode === 'variant') {
      addVariant('dark', selector)
    } else if (mode === 'class') {
      // Old behaviorWSÿpÿpj)éïıÿÿFPCPèdÂÿÿ‹ø…ÿy!¡8à=8àtWö@t/WSÿpÿpj*é»ıÿÿƒ…$ÿÿÿ$ÿÿÿè‘óÿÿ‹Ğ‹ÎèÑáÿÿ¡8à=8àtö@tWSÿpº@- ÿpj+Yètßÿÿ…öt‹V‹p‹ÎÿÜôÿÖ8ÿÿÿè­zÿÿ‹Mü‹Ç_^3Í[èÿÿÉÂ ‹ÿU‹ìW‹ù‹…ÀtƒÀVP‹‹r‹ÎÿÜôÿÖ^‹E‰_]Â ‹ÿU‹ìW‹ù‹…Òt‹VR‹p‹ÎÿÜôÿÖ^‹E‰_]Â ÌÌ‹ÿU‹ìì`  ¡äà3Å‰EüSVW‹E}¬jY¾Àf ‹]ó¥‰…´ıÿÿ3À‰…Àıÿÿ‰…Äıÿÿf¥‰…¸ıÿÿ½ ıÿÿ«‰°ıÿÿ«««¡8à=8àtö@tSÿpº@- ÿpj2Yè±¥ÿÿj'E¬Phx< ÿXñƒø't.¾ €¡8à=8à„Ô  ö@„¨  VSÿpÿpj3é‰  hg ¿€   …¬şÿÿWPè;&  ‹ğƒÄ…öy)¡8à=8à„‹  ö@„_  VSÿpÿpj4é@  E¬‹×P¬şÿÿèª%  ‹ğ…öy)¡8à=8à„K  ö@„  VSÿpÿpj5é   3ÀÇ…Èıÿÿ$   Àıÿÿ‰…Ìıÿÿ‰…Ğıÿÿ‰…Ôıÿÿ‰…Øıÿÿ‰…àıÿÿ‰…äıÿÿ‰…èıÿÿÇ…Üıÿÿ   è¬xÿÿ…ÀıÿÿPhÔ' …ÈıÿÿP…¬şÿÿPÿ¸ô‹ğ…öy)¡8à=8à„±  ö@„…  VSÿpÿpj6éf  ‹½ÀıÿÿÄıÿÿèLxÿÿ‹7…ÄıÿÿPh@< 3À‹NPWÿÜôÿV‹ğ…öy)¡8à=8à„S  ö@„'  VSÿpÿpj7é  »ø   ‹ÏèÉ ÿÿ‹ğ…öx‹…Äıÿÿ…Àt
P‹ÏèPçÿÿ‹ğ…öy)¡8à=8à„ÿ   ö@„Ó   VSÿpÿpj8é´   jYS ‰¼ıÿÿ‹¸ıÿÿ…ìıÿÿ3öf9rtj‹ø‹òYó¥‹¼ıÿÿCƒÀ3öƒÂƒé‰¼ıÿÿu×‹•´ıÿÿ…ìıÿÿ‰…¤ıÿÿ‹…Äıÿÿ‰ ıÿÿ‹‹Jl‰¨ıÿÿ‹Jh• ıÿÿ‰¬ıÿÿ‹RP‹q‹ÎÿÜôÿÖ‹°ıÿÿ‹ğ…öy'¡8à=8àtBö@tVSÿpÿpj9º@- Yè”Ûÿÿ¡8à=8àtö@tVSÿpº@- ÿpj:YèmÛÿÿÄıÿÿèºvÿÿÀıÿÿè¯vÿÿ‹Mü‹Æ_^3Í[è}ÿÿÉÂ ‹ÿU‹ìV‹ñºè< ‹Mè×«ÿÿ…Àt	‹E‰03ÀëQÿuQNè   ^]Â ‹ÿU‹ìV‹ñº`+ ‹Mè£«ÿÿ…Àt	‹E‰03Àë¸@ €^]Â ‹ÿU‹ìV‹ñºh ‹Mèw«ÿÿ…Àt	‹E‰03ÀëQÿuQNèqÿÿÿ^]Â ‹ÿU‹ìV‹ñºh ‹MèC«ÿÿ…Àt	‹E‰03ÀëQÿuQNèqÿÿÿ^]Â ‹ÿU‹ìV‹ñº˜< ‹Mè«ÿÿ…Àt	‹E‰03ÀëQÿuQNèÿÿÿ^]Â ‹ÿU‹ìV‹ñº* ‹MèÛªÿÿ…Àt	‹E‰03ÀëQÿuQNè5ÿÿÿ^]Â ‹ÿU‹ìV‹ñºXg ‹Mè§ªÿÿ…Àt	‹E‰03ÀëÿuQNèİ  ¹@ €;Áu‹Á^]Â ‹ÿU‹ìV‹ñºh ‹Mèiªÿÿ…Àt	‹E‰03ÀëQÿuQNè“ÿÿÿ^]Â ‹ÿU‹ìV‹ñº(h ‹Mè5ªÿÿ…Àt	‹E‰03ÀëQÿuQNèÿÿÿ^]Â ‹ÿU‹ìV‹ñºxg ‹Mèªÿÿ…Àt	‹E‰03ÀëQÿuQNè   ^]Â ‹ÿU‹ìV‹ñº¸g ‹MèÍ©ÿÿ…Àt	‹E‰03Àëºhg è¶©ÿÿ…Àt
‹EN‰ëä¸@ €^]Â ‹ÿU‹ìV‹ñº - ‹Mè‰©ÿÿ…Àt	‹E‰03ÀëQÿuQNè   ^]Â ‹ÿU‹ìV‹ñºØg ‹MèU©ÿÿ…Àt	‹E‰03ÀëQÿuQNè%ÿÿÿ^]Â ‹ÿU‹ìV‹ñºh ‹Mè!©ÿÿ…Àt	‹E‰03ÀëQÿuQNèiÿÿÿ^]Â ‹ÿU‹ìSVW‹ùºèg ‹Mèë¨ÿÿ‹u»@ €…Àt‰>3ÀëVQO,è   ;Ãu‹Ã;ÃuQVÿuOPè‚ÿÿÿ_^[]Â ‹ÿU‹ìV‹ñº˜g ‹Mèœ¨ÿÿ…Àt	‹E‰03ÀëºÈg è…¨ÿÿ…Àué¸@ €^]Â ÌÌÌÌÌÌ‹ÿU‹ìW‹}‹Ïjè#  „Àt‹V‹pL‹ÎÿÜô‹ÏÿÖ‹Ïè   ^3À_]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìƒì0¡äà3Å‰EüƒeØ S‹]V‹uW‰]Ğ‰uè¡8à=8àtö@tSÿpº@- ÿpjYèƒÿÿ¡ ş¹(ş‰Eä¸$ş‹ƒÀü‹8‹;ĞtYüqøó‹‹>‹	;Ñ¹(şuï‹]Ğ‹uè‹Â÷eä‹Ê¤ÁÁà‰EÜ‹Ç÷eä¬ĞÁêEÜÊö€é‰MätEìºˆ< PjQ¹ àè7*  ƒ& MÔèßÿÿPMØè'êÿÿ‹MÔ…ÉtƒeÔ ‹Q‹p‹ÎÿÜôÿÖ‹uØ…öu.¿ €‰}ä¡8à=8à„‘   ö@„‡   WSÿpÿpjëpFPCPèÔ¸ÿÿ‹ø‰}ä…ÿy¡8à=8àtYö@tSWSÿpÿpjë<ÿuè‹h* V‹0‹ÎÿÜôÿÖ‹ø‰}ä…ÿy'¡8à=8àtö@tWSÿpÿpjº@- YèßÕÿÿ‹ ş¾$ş‰Mè‹Vü‹F‹ ;ØtFü~ó‹‹‹;Ùuô‹}ä‹Mè‹Â¯Ù÷áÁã‹ğ¬Öó+uÜö€étVèF)  ¡8à=8àtö@tVWÿuĞÿpÿpèo)  ‹EØ…Àt‹P‹q‹ÎÿÜôÿÖ‹Mü‹Ç_^3Í[èwÿÿÉÂ ‹ÿU‹ìƒìVWEü3ÿPhˆg jWhä' ‰}üÿ\ñ…Àx‹EüMğQjP‹0‹NÿÜôÿVÿpòPWh   ÿŒò‹ğ…öt9EøPjVÿhò…Àt!Eì‰}ôPjEôPjÿuøÿ˜óÿuøÿòVÿò‹Uü…Òt‰}ü‹
R‹q‹ÎÿÜôÿÖ3À_@^ÉÂ ‹ÿU‹ìQ‹IUüjşX‰Eüğ±
ƒ}üuVj ¾  €Vÿ ó‹Æ^ÉÃƒ}üÿu¸  €ÉÃ3ÀÉÃ‹ÿU‹ìQ‹IUüjşX‰Eüğ±
ƒ}üuVj ¾  €Vÿ ó‹Æ^ÉÃ3ÀÉÃ‹ÿU‹ìQQ‹QVjşX‰Eüuüğ±ƒ}üuEøPèÿ  ‹Eøëƒ}ütj ¾  €Vÿ ó‹Æë3À^ÉÃÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìQS‹]‹ËWj3ÿèÿ  „Àt‹V‹pH‹ÎÿÜô‹ËÿÖ^ë(‹KUüjşX‰Eüğ±
ƒ}üu3ÿëj ¿  €Wÿ ó‹Ç_[ÉÂ ‹ÿU‹ìQQƒeø V‹ñMü‹Fƒf ‰Eüè’nÿÿMøèŠnÿÿNè‚nÿÿ^ÉÃÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ì‹U3À‹M@Vr8ğ±ƒøuƒÈÿğÁB4u
ÿ6J èµ  ^]Â ‹ÿU‹ìƒ9 tÿuh0- èG  ë‹Eƒ  ¸W €]Â ‹ÿU‹ìƒ9 tÿuh- è  ë‹Eƒ  ¸W €]Â ‹ÿU‹ìƒ9 t]éş  ‹Eƒ  ¸W €]Â ‹ÿU‹ì‹U‹E;ĞrPÿAPQRÿuÿPó…Ày‹Èèx  ]Â ‹ÿU‹ìQQ‰MøUøVMüèïÚÿÿ‹0ƒ  ‹Mü…Ét
ƒeü Qè1  ‹Æ^ÉÃÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìƒìS‹]Wÿs ÿñ…À„a  3ÿ€{( …Z  ŠC$$öC$ˆEÿu(‹K UôèD  ‹ø…ÿˆ7  ƒ}ô t¿@ €…ÿˆ$  ƒeø Møèõlÿÿ‹K EøPèšB  …Àˆ   ‹EøSüV÷ÚK4Q‹0KÒ#ÑR‹N,PÿÜôÿV,…Àxeƒeô EôMğ‰Eğèiåÿÿ‹Mø‹Ğè×ÿÿ…Àx*‹EôK,ÇEğ   ‰Eìè„lÿÿEğºP- PEìPK,èUÚÿÿ‹Mô…Étƒeô ‹Q‹p‹ÎÿÜôÿÖ^‹K èê  „ÀuG8Eÿtÿs ÿÈô…Àt5ÿs ÿ ñ…À•ÀˆC(„Àu4ÿò‹ø…ÿ~·ÿÏ  €…ÿx¿@ €ëj ÿs ÿñ÷ØÀşÀˆC(Møèäkÿÿë¿x€‹Ç_[ÉÂ ‹ÿV‹ñè3  …Àx‹FƒÀP‹‹q‹ÎÿÜôÿÖ^ÃÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ì‹E‹H…Ét‹Vÿu‹p Q‹ÎÿÜôÿÖ^ë¸ €]Â Ì‹ÿU‹ìW‹}€D t‹G¨V‹pL‹ÎÿÜôO¨ÿÖ^_]Â ÌÌÌÌÌÌÌ‹ÿU‹ìQQSV‹u3ÛW3ÿG8^(tjÿv ‹ûÿñˆ^(N,‰]ø9tojEøPhP- è  …ÀxAMü‰]üèñjÿÿEüPh€+ Møè  ‹Eü…Àtÿv8‹ÿv4P‹q0‹ÎÿÜôÿÖMüè»jÿÿ‹Uø…Òt‰]ø‹
R‹q‹ÎÿÜôÿÖ‹Ç_^[ÉÂ ‹ÿU‹ìQWyƒ? u7A‹ÑPAPMüè×ÿÿP‹Ïè”âÿÿ‹Mü…Étƒeü ‹VQ‹p‹ÎÿÜôÿÖ^‹÷Ø_À%òÿø €ÉÃ‹ÿU‹ìQV‹ñMüjşX‰Eü‹Vğ±ƒ}üt‹Eƒ  ë‹M‹V ‹ğ±ƒ~ t	ÿvÿó^ÉÂ ‹ÿU‹ì‹U‹MVW‹¾* ‹øÁçù¥¥¥¥x¾h Áçù¥¥¥¥x¾è< Áçù¥¥¥¥x¾`+ ÁçùƒÀ‰¥¥¥¥_^]Â ÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìƒìSVWj‹ù3Ûè  9_„›   3À@ğÁG@ƒø…‰   Mø‰}øè
  ‹Ï‰]üè  EüPMøèŸÏÿÿ…ÀxL‹OUôjşX‰Eôğ±
‹Ïè+  ‹Gÿuôÿuü‹P‹q‹ÎÿÜôÿÖÿw‹W‹Èè¶  O‹ØèôhÿÿèÕ  Müèçhÿÿ‹W‹q‹ÎÿÜôÿÖ_^‹Ã[ÉÃÌÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìƒìSVWj‹ù3Ûè¯  9_@„û   3À@ğÁG@ƒø…é   Mğ‰}ğè=	  ‹Ï‰]ôè3  EôPMğèÏÎÿÿ…Àˆ¨   ‹OUìjşX‰Eìğ±
Mü‰]üèLhÿÿEüPQO@èúÿÿ…Àxt‹Ïè;  Mø‰]øè)hÿÿ‹MüEøPè7  ÿuüMäÿuôÿuøèîØÿÿ‹Eüÿuìÿuô‹P‹q‹ÎÿÜôÿÖÿwD‹Uü‹Èè   O@‹Øèœ  è½  MäèİÿÿMøèÇgÿÿMüè¿gÿÿMôè·gÿÿ‹W‹p‹ÎÿÜôÿÖ_^‹Ã[ÉÃÌÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿV‹ñNHƒ9 tè?  ‹Î^é¶şÿÿÌÌÌÌÌÌ3À3Ò@ğÁˆ   @ƒøuAdƒé÷ÙÉ#ÈèN  ‹Ğ‹ÂÃ‹ÿU‹ìQQSV‹ñ3ÛW‹úş€t şº€tş ‰tş €tş €uSSVÿ$ó‹óÿ8ó…Àu…öyLSSVÿ$ó‹óë?…öy;‹EMü‰Eø‰]üèÕfÿÿEüPVÿ4ó…ÀxÿuüWÿ0ó…Àx‹ó‹EøMüè«fÿÿ_‹Æ^[ÉÂ ‹ÿU‹ìƒìSVW‹ù3ÛMô‰}ôè@  ‰]ø9_H„¶   Møètfÿÿ‹7EøPhP+ W‹ÿÜôÿ…Àˆ   Mü‰]üèKfÿÿEüPQOHè)øÿÿ…Àxl‹Ïèè  Mô‰]ôè(fÿÿ‹MüEôPè6  ÿuüMìÿuøÿuôèíÖÿÿ‹Eüÿuÿuø‹P‹q‹ÎÿÜôÿÖÿwL‹Uü‹Èèşÿÿ‹Øèr  Mìè!ÛÿÿMôèÎeÿÿMüèÆeÿÿMøè¾eÿÿ‹W‹p‹ÎÿÜôÿÖ_^‹Ã[ÉÂ ‹ÿU‹ì‹U3ÀV‰9AtRh* Iè¦  ëƒÁ9tPRh* è„  ^]Â ÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹UèzĞÿÿ]Â ÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹Uè·Ğÿÿ]Â ÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹UèßĞÿÿ]Â ÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ì‹E‹@…Àt%Vÿu ‹0ÿuÿu‹NÿuÿuÿuPÿÜôÿV^ë¸ €]Â ÌÌÌ‹ÿU‹ìS‹]V‹u‹ÎWƒ# èõÿÿ‹ø…ÿxNèS  ‹N‰‹Ç_^[]Â ÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìV‹u‹ÎW‹}ƒ' èÑôÿÿ…ÀxN@ƒ9 tWQèöÿÿ_^]Â ‹ÿU‹ìS‹]‹ËVW‹}ƒ' è ôÿÿ‹ğ…öxKHƒ9 tWQèöÿÿ_‹Æ^[]Â ÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìV‹uW‹}ƒ& O¬è”ôÿÿ…Àx	VODèGşÿÿ_^]Â ‹ÿU‹ìQQS‹]VW‹ùƒ# …ÿu¾@ €ëfƒeü Müè½cÿÿ‹7EüPhøg W‹ÿÜôÿ‹ğ…öx6‹EüMøQjW‹0P‹NÿÜôÿV‹ğ…öxƒ}øu‹Eü3ö!uü‰ë¾@ €Müèccÿÿ_‹Æ^[ÉÂ ÌÌÌÌÌÌÌÌÌ‹ÿU‹ì‹E3ÒVW‹}‰‹pp…öt!‹ÎSYf‹ƒÁf;Âuõ+ËWÑùQVÿTó‹Ğ[_‹Â^]Â ÌÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ì‹EPjGh8* ƒ  ÿTó]Â ÌÌÌ‹ÿU‹ì‹EPjDh= ƒ  ÿTó]Â ÌÌÌ‹ÿVj ¾@ €Vÿ ó‹Æ^Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ì‹E‹@…Àt%Vÿu ‹0ÿuÿu‹NÿuÿuÿuPÿÜôÿV^ë¸ €]Â ÌÌÌ‹ÿU‹ìƒì‹MSW‹}A‰Eø‹ ‹Øƒ' ‰EüÁè„Àtğÿ@‰3Àë]VƒÁüè†ôÿÿ‹ğ…öu¸ €ëF‹Ö‰^Ñú‹Ã‹]øÊ   €‰Uô‹Êğ±‹Ø;]üt ‹ËÁé„Éu"‹Ë‰^‹Ã‹]øğ±‹Uô‹Ø;Ùuà‰73À^_[ÉÂ ¸  ÀÇ„ ‰FV‰FèÎbÿÿYğÿ@‰ëÔÌÌÌÌÌÌ‹ÿU‹ìƒì‹MSW‹}A‰Eø‹ ‹Øƒ' ‰EüÁè„Àtğÿ@‰3Àë]VƒÁüèÆóÿÿ‹ğ…öu¸ €ëF‹Ö‰^Ñú‹Ã‹]øÊ   €‰Uô‹Êğ±‹Ø;]üt ‹ËÁé„Éu"‹Ë‰^‹Ã‹]øğ±‹Uô‹Ø;Ùuà‰73À^_[ÉÂ ¸  ÀÇ„ ‰FV‰FèbÿÿYğÿ@‰ëÔÌÌÌÌÌÌ‹ÿU‹ìƒì‹MSW‹}A‰Eø‹ ‹Øƒ' ‰EüÁè„Àtğÿ@‰3Àë]VƒÁ°èóÿÿ‹ğ…öu¸ €ëF‹Ö‰^Ñú‹Ã‹]øÊ   €‰Uô‹Êğ±‹Ø;]üt ‹ËÁé„Éu"‹Ë‰^‹Ã‹]øğ±‹Uô‹Ø;Ùuà‰73À^_[ÉÂ ¸  ÀÇ„ ‰FV‰FèNaÿÿYğÿ@‰ëÔÌÌÌÌÌÌ‹ÿU‹ì‹U‹E‹J$‰ÿr$ÿñ÷ØÀ%ˆúøx€]Â ÌÌÌÌÌ‹ÿU‹ìƒì¡äà3Å‰Eüƒeø Mäj3j4hÈ* èüñÿÿhlèh0+ ÿuøÿ@ó3É…À™Á‹Á‹Mü3ÍèfÿÿÉÂ ‹ÿU‹ìQQV3À3öW‹ù‰Eü9EtMüè_ÿÿEüPÿuÿuVÿpñ‹ğ‹Eü‹ƒeü ‰MøMø‰èX_ÿÿMüèP_ÿÿ_‹Æ^ÉÂ ‹	…Ét‹VQ‹p‹ÎÿÜôÿÖ^Ã‹ÿVq‹W‹ÁÁè„ÀuQ‹Áğ±;Át‹ÈëæAë3À@ğÁM   @_^Ã‹ÿVq‹W‹ÁÁè„ÀuQ‹Áğ±;Át‹ÈëæAë3À@ğÁM   @_^Ã‹ÿVql‹W‹ÁÁè„ÀuQ‹Áğ±;Át‹ÈëæAë3À@ğÁM   @_^Ã‹ÿVq‹W‹ÁÁè„ÀuQÿ‹Áğ±;Át‹ÈëæAÿëƒÈÿğÁM   H_^Ã‹ÿVq‹W‹ÁÁè„ÀuQÿ‹Áğ±;Át‹ÈëæAÿëƒÈÿğÁM   H_^Ã‹ÿVql‹W‹ÁÁè„ÀuQÿ‹Áğ±;Át‹ÈëæAÿëƒÈÿğÁM   H_^Ã‹ÿU‹ì‹Uƒ" ‹	…Éu3Àë‹VRÿu‹pQ‹ÎÿÜôÿÖ^]Â ÌÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìQQƒeü MüVè]ÿÿ‹uEüPh`+ N,èšÿÿÿ‹F,ƒf, …Àt‹P‹q‹ÎÿÜôÿÖƒ}ü tDƒeø MøèL]ÿÿ‹EüMøQhØg P‹0‹ÿÜôÿ‹Eø…Àt‹P‹q‹ÎÿÜôÿÖMøè]ÿÿMüè]ÿÿ3À^ÉÂ ÌÌÌÌ‹ÿU‹ì‹MIœè`õÿÿ]Â ‹ÿU‹ì‹E3ÉAƒøtƒøt;Átƒøt2ÉŠÁ]Â ‹ÿU‹ìQ‹IUüjşX‰Eüğ±
ÿuüè¼ÿÿÿÉÃ‹ÿU‹ì‹Uƒ" ƒy t&‹A…Àx$¡èVRÿu‹0ÿqP‹NÿÜôÿV^ë¸W €]Â ‹ÿU‹ìQQS‹ÙVW‹}‹Cƒà‰Eü…ÿˆƒ   ƒ} u_C‰EøMø‹E‹0èğÔÿÿ‹Ğ‹ÎèÆÿÿ‹ø…ÿx[‹K…ÉtCƒÁ4PèçÓÿÿƒ; u)‹K‹ÓÁé€áèÎ  ‹Mü‹ø…ÿy‹Á÷ØÀ÷Ğ#øë‹Èë‹Mü…ÿxƒ} u…Éu	‹Ëèñïÿÿ‹ø‹C…Àt…ÿxƒ}uƒÀP‹‹q‹ÎÿÜôÿÖ‹Ç_^[ÉÂ ÌÌÌÌÌÌ‹ÿU‹ì‹E‹@…Àt%Vÿu ‹0ÿuÿu‹NÿuÿuÿuPÿÜôÿV^ë¸ €]Â ÌÌÌhÇ€jƒÁüè:  Ã3À@ğÁŒ   @ƒøuÁ˜   ésìÿÿÃÌÌÌ‹ÿSV‹ÙW‹»„   ƒ˜   Pj j ‹7‹NÿÜô‹ÏÿV‹ğ…öxXÿlò3ÿ‰ƒ´   Sü÷ÚK`WÒ#ÑRWPÿ³°   ÿ³¬   ÿÜó‹ğ…öy,9{|uVjKüè¥  ëQQV‹Ëè  ‹÷…öy
QQV‹Ëèÿ
  _‹Æ^[ÃÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìQSW‹}‹ÏèÖêÿÿ‹Ø…Ûxc3ÉAğÁOAƒùuG‹M…Ét‹‹@‰GQOèëÑÿÿ3ÉEüğ	‹Ïèv  ‹Ïèfıÿÿ„Àt#‹V‹p@‹ÎÿÜô‹ÏÿÖ^ëj »  €Sÿ ó_‹Ã[ÉÂ ÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìQSVW‹}‹ÏèEêÿÿ‹Ø…Ûxl3À@ğÁG@ƒøuYG@Mü‰EüèQÒÿÿ‹u‹Ğ‹Îè@Àÿÿ‹Ø…Ûx>‹Ïèå  …öt‹‹@‰GD3ÉEüğ	‹ÏèÁüÿÿ„Àt‹‹p@‹ÎÿÜô‹ÏÿÖë»  €_^‹Ã[ÉÂ ÌÌ‹ÿU‹ìQV‹u‹ÎWè¶éÿÿ‹ø…ÿx1FHSMü‰EüèÏÑÿÿ‹]‹Ğ‹ËèZÀÿÿ‹ø…Ût‹‹@‰FL‹Îè[  [‹Ç_^ÉÂ ÌÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹MèhÀÿÿ]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹Mè¹Àÿÿ]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹Mè
Áÿÿ]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹MèTÁÿÿ]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹Mè—Áÿÿ]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹MèÜÁÿÿ]Â ÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹U‹Mè&Âÿÿ]Â j j jQÿòÃÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ì]éµ  ÌÌÌÌÌ‹ÿU‹ìSW‹}‹Ïèiùÿÿ‹Ø…Ûu3V…ÿt‹j‹r`‹ÎÿÜô‹ÏÿÖ‹,è…Ét‹Q‹p‹ÎÿÜôÿÖ^_‹Ã[]Â ÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìSW‹}‹ÏèAùÿÿ‹Ø…Ûu3V…ÿt‹j‹r<‹ÎÿÜô‹ÏÿÖ‹,è…Ét‹Q‹p‹ÎÿÜôÿÖ^_‹Ã[]Â ÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìSW‹}ƒËÿğÁ_Ku2V…ÿt‹j‹p‹ÎÿÜô‹ÏÿÖ¡,è…Àt‹P‹q‹ÎÿÜôÿÖ^_‹Ã[]Â Ì‹ÿU‹ìSW‹}ƒËÿğÁ_ Ku2V…ÿt‹j‹p‹ÎÿÜô‹ÏÿÖ¡,è…Àt‹P‹q‹ÎÿÜôÿÖ^_‹Ã[]Â Ì‹ÿU‹ìSW‹}ƒËÿğÁ_Ku2V…ÿt‹j‹p‹ÎÿÜô‹ÏÿÖ¡,è…Àt‹P‹q‹ÎÿÜôÿÖ^_‹Ã[]Â Ì‹ÿU‹ìSW‹}‹Ïè)øÿÿ‹Ø…Ûu3V…ÿt‹j‹r,‹ÎÿÜô‹ÏÿÖ‹,è…Ét‹Q‹p‹ÎÿÜôÿÖ^_‹Ã[]Â ÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ì]éåıÿÿÌÌÌÌÌ‹ÿU‹ì]é5şÿÿÌÌÌÌÌ‹ÿU‹ì‹E‹H…Ét‹Vÿu‹pQ‹ÎÿÜôÿÖ^ë¸ €]Â Ì‹ÿU‹ìS‹]VW‹}sƒ' ëJ‹Âğ±;Ât‹…Òuí3À_^[]Â ‹CWÿu‹P‹1‹ÎÿÜôÿÖ‹K‹øQ‹‹r‹ÎÿÜôÿÖ‹ÇëÊ‹ÿU‹ìQQ‹ƒ! Müƒeø ‰Eüè%UÿÿMøèUÿÿ3ÀÉÃÌÌÌÌÌÌÌÌ‹ÿU‹ìQQƒeü UøV‹ujşX‰Eø‹N¼ğ±
ƒ}ø tEüPN è¡êÿÿ‹Eü…Àx¸Ç€‰Eüë‹EüPjNœè¹  ^ÉÂ ÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìQ‹E…Àx‹Aƒ}u#…Àx‹EV‹qƒÀMü‰EüèÍÿÿ‹Ğ‹ÎèW»ÿÿ^ÉÂ ÌÌÌ‹ÿU‹ì‹EV‹@P‹‹q‹ÎÿÜôÿÖ^]Â ‹ÿU‹ìV‹ñÿlò‰F‹E‰FƒøuÿuÿuQNè…ôÿÿëƒÆ‹ÎèTÿÿVÿuÿuÿhñ^]Â ÌÌÌÌÌÌ‹ÿU‹ìÿuƒÁèOíÿÿ3À]Â ÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìSVW‹}3ÛS‹ÏèĞ  „Àt6‹‹pD‹ÎÿÜô‹ÏÿÖ‹ğ…öx,SSh`7hÔéÿôò…Àt‹Ïè¡  ëS¾  €Vÿ ó_‹Æ^[]Â ‹ÿU‹ìQV‹ò3Ò‹ÂW‹ù…ötşÿÿÿv¸W €…Àx#Eü‹ÖPè²   ‹Uü…ÀxQÿu+òQW‹ÖèJ   _^ÉÂ ‹ÿU‹ì‹E3É…Àt=ÿÿÿv¹W €…ÉxM‹ĞQÿuQ‹MèZÿÿ‹Èë…Àt‹E3Òf‰‹Á]Ã‹ÿU‹ì…Òt+‹EVW¾şÿÿ+Á…öt·<f…ÿtf‰9ƒÁNƒêuç_^…Òuƒé÷ÚÒâ†ÿø3Àf‰‚z €]Â ‹ÿU‹ìVW3ÿ‹ò…Òtf99tƒÁƒêuó‹M‹Â÷ØÀ%©ÿøW €…Ét…Òt+ò‰1ë‰9_^]Â ‹ÿS‹Á‹lèVW…Ét&‹¾D> j™RPƒì‹üj¥jQ‹K ¥¥¥ÿÜôÿS _^[Ã¡lè…ÀtV‹0j jj ‹N(PÿÜôÿV(^Ã‹ÿS‹Á‹lèVW…Ét&‹¾D> j ™RPƒì‹üj¥j Q‹K$¥¥¥ÿÜôÿS$_^[Ã‹ÿS‹Á‹lèVW…Ét&‹¾D> j ™RPƒì‹üj¥jQ‹K ¥¥¥ÿÜôÿS _^[Ã‹ÿS‹Á‹lèVW…Ét&‹¾D> j™RPƒì‹üj¥jQ‹K ¥¥¥ÿÜôÿS _^[Ã‹ÿU‹ìQƒ=lè SVW‹ñt<‹VMü‹Eüğ±ÿuü‹lè‹Æ™¾D> RP‹ƒì‹üj¥j Q‹K¥¥¥ÿÜôÿS_^[ÉÃ‹ÿU‹ìƒì4¡äà3Å‰Eüƒ=lè SVW‰MàtWÿuà¾D> ÇEÜğd }ÌEÜP¥Mä¥¥¥è3¶ÿÿ‹UàuÌ‹lèj ÿr$‹ÿp‹Â™RPƒì‹üj¥j Q‹K¥¥¥ÿÜôÿS‹Mü_^3Í[èİVÿÿÉÃ¡lè…ÀtV‹0jjj‹N(PÿÜôÿV(^Ã‹ÿS‹Á‹lèVW…Ét&‹¾D> j™RPƒì‹üj¥jQ‹K$¥¥¥ÿÜôÿS$_^[Ã3ÒƒÁjBXğ±ƒø”ÀÃ‹ÿU‹ìQVWjşXy‰Eü‹Uüğ±
‹u‹Æƒè t:ƒèt.ƒèt)ƒèt$ƒèu.‹UüRèÎòÿÿ„Àt!‹Âğ±7;Eü”À_^ÉÂ ‹Uü…Òë‹Uüƒúÿtß2Àëç‹ÿU‹ìSV‹u2ÛW‹ù3ÀW ğ±2…Àu'w‹ÎèlOÿÿVÿ(ój‹Ïè`ÿÿÿŠØ„Ût‹ÏèÌıÿÿ_^ŠÃ[]Â ‹ÿU‹ì‹URÿuƒ" ƒyu
ƒÁè<áÿÿë‹Aƒa Pÿ<ñ]Â ÌÌÌÌ‹ÿU‹ì‹E‹@…ÀtVÿu‹0ÿuÿu‹NPÿÜôÿV^ë¸ €]Â ‹ÿSW‹ù‹Ÿˆ   …Ût‹Vj‹0‹ÎÿÜô‹ËÿÖ^ƒ§ˆ    ÿlò;‡¸   tÿàóğÿ‡Œ   O_[éüæÿÿ‹ÿU‹ìQSV‹ñƒÊÿ‹Ú„   ğÁK÷ÛÛ3ÀşÃ@ğÁF|@ƒøuğÁJ÷ÚÒZƒ} }%‹N UüjşX‰Eüğ±
ƒ}üt'QQÿuNè˜şÿÿëWjNè!şÿÿ„ÀuNèşÿÿ_„Ût‹Îè(ÿÿÿ^[ÉÂ ‹ÿU‹ìQQ‹èd¡,   SVW‹‹ùƒ»   ~UMø‰}øèˆîÿÿMø‰}øè}îÿÿUøèŞ¼ÿÿ…À‹Eø™Eÿ…Àt‹P‹q‹ÎÿÜôÿÖ…ÿt‹W‹p‹ÎÿÜôÿÖ€}ÿ u‹ÿƒ   W‹p‹ÎÿÜôÿÖÿ‹   ë3À_^[ÉÃ‹ÿU‹ìƒì4¡äà3Å‰EüSjEÌ2ÛPjQÿñPÿñ…À~jjÿhÀd jÿEÌPÿ°òƒø”Ã‹MüŠÃ3Í[èySÿÿÉÃ‹ÿU‹ìQƒ}SVW‹Ù…   3À@ğÁC|@ƒø…î   ‹»ˆ   ‹œ   Qÿu‹j‹p‹ÎÿÜô‹ÏÿÖƒ„   ƒÉÿ‰EüğÁI÷ÙÉ3ÀşÁ@ğÁƒ€   @ƒøu3‹»ˆ   ‹œ   QhÇ€j‹‹p‹ÎÿÜô‹ÏÿÖ‹MüƒÈÿğÁt2É„Étl‹Ëè{ıÿÿëc3ÉA9Mu[‹ÁğÁƒ€   @;ÁuL‹»ˆ   ƒœ   Pÿu‹Q‹r‹ÎÿÜô‹ÏÿÖ…Àx€»¡    tƒÈÿğÁƒ”   uÿ³˜   ëP‹Ëèfıÿÿ_^[ÉÂ ‹ÿU‹ìQVW‹}3Ò¾@ €‰‹…Àt:‰Uü8UuƒxuQMüèÄÿÿë‰MüPèAÑÿÿ‹MüWÿuè\üÿÿMü‹ğè˜Kÿÿ_‹Æ^ÉÂ ÌÌÌÌÌÌÌÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹EƒÀ¬Pèìæÿÿ]Â ÌÌÌÌÌÌÌÌ‹ÿU‹ìÿu‹EƒÀPèline-end']],
        ['top', ['top']],
        ['right', ['right']],
        ['bottom', ['bottom']],
        ['left', ['left']],
      ],
    ],
    { supportsNegativeValues: true }
  ),

  isolation: ({ addUtilities }) => {
    addUtilities({
      '.isolate': { isolation: 'isolate' },
      '.isolation-auto': { isolation: 'auto' },
    })
  },

  zIndex: createUtilityPlugin('zIndex', [['z', ['zIndex']]], { supportsNegativeValues: true }),
  order: createUtilityPlugin('order', undefined, { supportsNegativeValues: true }),
  gridColumn: createUtilityPlugin('gridColumn', [['col', ['gridColumn']]]),
  gridColumnStart: createUtilityPlugin('gridColumnStart', [['col-start', ['gridColumnStart']]]),
  gridColumnEnd: createUtilityPlugin('gridColumnEnd', [['col-end', ['gridColumnEnd']]]),
  gridRow: createUtilityPlugin('gridRow', [['row', ['gridRow']]]),
  gridRowStart: createUtilityPlugin('gridRowStart', [['row-start', ['gridRowStart']]]),
  gridRowEnd: createUtilityPlugin('gridRowEnd', [['row-end', ['gridRowEnd']]]),

  float: ({ addUtilities }) => {
    addUtilities({
      '.float-start': { float: 'inline-start' },
      '.float-end': { float: 'inline-end' },
      '.float-right': { float: 'right' },
      '.float-left': { float: 'left' },
      '.float-none': { float: 'none' },
    })
  },

  clear: ({ addUtilities }) => {
    addUtilities({
      '.clear-start': { clear: 'inline-start' },
      '.clear-end': { clear: 'inline-end' },
      '.clear-left': { clear: 'left' },
      '.clear-right': { clear: 'right' },
      '.clear-both': { clear: 'both' },
      '.clear-none': { clear: 'none' },
    })
  },

  margin: createUtilityPlugin(
    'margin',
    [
      ['m', ['margin']],
      [
        ['mx', ['margin-left', 'margin-right']],
        ['my', ['margin-top', 'margin-bottom']],
      ],
      [
        ['ms', ['margin-inline-start']],
        ['me', ['margin-inline-end']],
        ['mt', ['margin-top']],
        ['mr', ['margin-right']],
        ['mb', ['margin-bottom']],
        ['ml', ['margin-left']],
      ],
    ],
    { supportsNegativeValues: true }
  ),

  boxSizing: ({ addUtilities }) => {
    addUtilities({
      '.box-border': { 'box-sizing': 'border-box' },
      '.box-content': { 'box-sizing': 'content-box' },
    })
  },

  lineClamp: ({ matchUtilities, addUtilities, theme }) => {
    matchUtilities(
      {
        'line-clamp': (value) => ({
          overflow: 'hidden',
          display: '-webkit-box',
          '-webkit-box-orient': 'vertical',
          '-webkit-line-clamp': `${value}`,
        }),
      },
      { values: theme('lineClamp') }
    )

    addUtilities({
      '.line-clamp-none': {
        overflow: 'visible',
        display: 'block',
        '-webkit-box-orient': 'horizontal',
        '-webkit-line-clamp': 'none',
      },
    })
  },

  display: ({ addUtilities }) => {
    addUtilities({
      '.block': { display: 'block' },
      '.inline-block': { display: 'inline-block' },
      '.inline': { display: 'inline' },
      '.flex': { display: 'flex' },
      '.inline-flex': { display: 'inline-flex' },
      '.table': { display: 'table' },
      '.inline-table': { display: 'inline-table' },
      '.table-caption': { display: 'table-caption' },
      '.table-cell': { display: 'table-cell' },
      '.table-column': { display: 'table-column' },
      '.table-column-group': { display: 'table-column-group' },
      '.table-footer-group': { display: 'table-footer-group' },
      '.table-header-group': { display: 'table-header-group' },
      '.table-row-group': { display: 'table-row-group' },
      '.table-row': { display: 'table-row' },
      '.flow-root': { display: 'flow-root' },
      '.grid': { display: 'grid' },
      '.inline-grid': { display: 'inline-grid' },
      '.contents': { display: 'contents' },
      '.list-item': { display: 'list-item' },
      '.hidden': { display: 'none' },
    })
  },

  aspectRatio: createUtilityPlugin('aspectRatio', [['aspect', ['aspect-ratio']]]),

  size: createUtilityPlugin('size', [['size', ['width', 'height']]]),

  height: createUtilityPlugin('height', [['h', ['height']]]),
  maxHeight: createUtilityPlugin('maxHeight', [['max-h', ['maxHeight']]]),
  minHeight: createUtilityPlugin('minHeight', [['min-h', ['minHeight']]]),

  width: createUtilityPlugin('width', [['w', ['width']]]),
  minWidth: createUtilityPlugin('minWidth', [['min-w', ['minWidth']]]),
  maxWidth: createUtilityPlugin('maxWidth', [['max-w', ['maxWidth']]]),

  flex: createUtilityPlugin('flex'),
  flexShrink: createUtilityPlugin('flexShrink', [
    ['flex-shrink', ['flex-shrink']], // Deprecated
    ['shrink', ['flex-shrink']],
  ]),
  flexGrow: createUtilityPlugin('flexGrow', [
    ['flex-grow', ['flex-grow']], // Deprecated
    ['grow', ['flex-grow']],
  ]),
  flexBasis: createUtilityPlugin('flexBasis', [['basis', ['flex-basis']]]),

  tableLayout: ({ addUtilities }) => {
    addUtilities({
      '.table-auto': { 'table-layout': 'auto' },
      '.table-fixed': { 'table-layout': 'fixed' },
    })
  },

  captionSide: ({ addUtilities }) => {
    addUtilities({
      '.caption-top': { 'caption-side': 'top' },
      '.caption-bottom': { 'caption-side': 'bottom' },
    })
  },

  borderCollapse: ({ addUtilities }) => {
    addUtilities({
      '.border-collapse': { 'border-collapse': 'collapse' },
      '.border-separate': { 'border-collapse': 'separate' },
    })
  },

  borderSpacing: ({ addDefaults, matchUtilities, theme }) => {
    addDefaults('border-spacing', {
      '--tw-border-spacing-x': 0,
      '--tw-border-spacing-y': 0,
    })

    matchUtilities(
      {
        'border-spacing': (value) => {
          return {
            '--tw-border-spacing-x': value,
            '--tw-border-spacing-y': value,
            '@defaults border-spacing': {},
            'border-spacing': 'var(--tw-border-spacing-x) var(--tw-border-spacing-y)',
          }
        },
        'border-spacing-x': (value) => {
          return {
            '--tw-border-spacing-x': value,
            '@defaults border-spacing': {},
            'border-spacing': 'var(--tw-border-spacing-x) var(--tw-border-spacing-y)',
          }
        },
        'border-spacing-y': (value) => {
          return {
            '--tw-border-spacing-y': value,
            '@defaults border-spacing': {},
            'border-spacing': 'var(--tw-border-spacing-x) var(--tw-border-spacing-y)',
          }
        },
      },
      { values: theme('borderSpacing') }
    )
  },

  transformOrigin: createUtilityPlugin('transformOrigin', [['origin', ['transformOrigin']]]),
  translate: createUtilityPlugin(
    'translate',
    [
      [
        [
          'translate-x',
          [['@defaults transform', {}], '--tw-translate-x', ['transform', cssTransformValue]],
        ],
        [
          'translate-y',
          [['@defaults transform', {}], '--tw-translate-y', ['transform', cssTransformValue]],
        ],
      ],
    ],
    { supportsNegativeValues: true }
  ),
  rotate: createUtilityPlugin(
    'rotate',
    [['rotate', [['@defaults transform', {}], '--tw-rotate', ['transform', cssTransformValue]]]],
    { supportsNegativeValues: true }
  ),
  skew: createUtilityPlugin(
    'skew',
    [
      [
        ['skew-x', [['@defaults transform', {}], '--tw-skew-x', ['transform', cssTransformValue]]],
        ['skew-y', [['@defaults transform', {}], '--tw-skew-y', ['transform', cssTransformValue]]],
      ],
    ],
    { supportsNegativeValues: true }
  ),
  scale: createUtilityPlugin(
    'scale',
    [
      [
        'scale',
        [
          ['@defaults transform', {}],
          '--tw-scale-x',
          '--tw-scale-y',
          ['transform', cssTransformValue],
        ],
      ],
      [
        [
          'scale-x',
          [['@defaults transform', {}], '--tw-scale-x', ['transform', cssTransformValue]],
        ],
        [
          'scale-y',
          [['@defaults transform', {}], '--tw-scale-y', ['transform', cssTransformValue]],
        ],
      ],
    ],
    { supportsNegativeValues: true }
  ),

  transform: ({ addDefaults, addUtilities }) => {
    addDefaults('transform', {
      '--tw-translate-x': '0',
      '--tw-translate-y': '0',
      '--tw-rotate': '0',
      '--tw-skew-x': '0',
      '--tw-skew-y': '0',
      '--tw-scale-x': '1',
      '--tw-scale-y': '1',
    })

    addUtilities({
      '.transform': { '@defaults transform': {}, transform: cssTransformValue },
      '.transform-cpu': {
        transform: cssTransformValue,
      },
      '.transform-gpu': {
        transform: cssTransformValue.replace(
          'translate(var(--tw-translate-x), var(--tw-translate-y))',
          'translate3d(var(--tw-translate-x), var(--tw-translate-y), 0)'
        ),
      },
      '.transform-none': { transform: 'none' },
    })
  },

  animation: ({ matchUtilities, theme, config }) => {
    let prefixName = (name) => escapeClassName(config('prefix') + name)
    let keyframes = Object.fromEntries(
      Object.entries(theme('keyframes') ?? {}).map(([key, value]) => {
        return [key, { [`@keyframes ${prefixName(key)}`]: value }]
      })
    )

    matchUtilities(
      {
        animate: (value) => {
          let animations = parseAnimationValue(value)

          return [
            ...animations.flatMap((animation) => keyframes[animation.name]),
            {
              animation: animations
                .map(({ name, value }) => {
                  if (name === undefined || keyframes[name] === undefined) {
                    return value
                  }
                  return value.replace(name, prefixName(name))
                })
                .join(', '),
            },
          ]
        },
      },
      { values: theme('animation') }
    )
  },

  cursor: createUtilityPlugin('cursor'),

  touchAction: ({ addDefaults, addUtilities }) => {
    addDefaults('touch-action', {
      '--tw-pan-x': ' ',
      '--tw-pan-y': ' ',
      '--tw-pinch-zoom': ' ',
    })

    let cssTouchActionValue = 'var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)'

    addUtilities({
      '.touch-auto': { 'touch-action': 'auto' },
      '.touch-none': { 'touch-action': 'none' },
      '.touch-pan-x': {
        '@defaults touch-action': {},
        '--tw-pan-x': 'pan-x',
        'touch-action': cssTouchActionValue,
      },
      '.touch-pan-left': {
        '@defaults touch-action': {},
        '--tw-pan-x': 'pan-left',
        'touch-action': cssTouchActionValue,
      },
      '.touch-pan-right': {
        '@defaults touch-action': {},
        '--tw-pan-x': 'pan-right',
        'touch-action': cssTouchActionValue,
      },
      '.touch-pan-y': {
        '@defaults touch-action': {},
        '--tw-pan-y': 'pan-y',
        'touch-action': cssTouchActionValue,
      },
      '.touch-pan-up': {
        '@defaults touch-action': {},
        '--tw-pan-y': 'pan-up',
        'touch-action': cssTouchActionValue,
      },
      '.touch-pan-down': {
        '@defaults touch-action': {},
        '--tw-pan-y': 'pan-down',
        'touch-action': cssTouchActionValue,
      },
      '.touch-pinch-zoom': {
        '@defaults touch-action': {},
        '--tw-pinch-zoom': 'pinch-zoom',
        'touch-action': cssTouchActionValue,
      },
      '.touch-manipulation': { 'touch-action': 'manipulation' },
    })
  },

  userSelect: ({ addUtilities }) => {
    addUtilities({
      '.select-none': { 'user-select': 'none' },
      '.select-text': { 'user-select': 'text' },
      '.select-all': { 'user-select': 'all' },
      '.select-auto': { 'user-select': 'auto' },
    })
  },

  resize: ({ addUtilities }) => {
    addUtilities({
      '.resize-none': { resize: 'none' },
      '.resize-y': { resize: 'vertical' },
      '.resize-x': { resize: 'horizontal' },
      '.resize': { resize: 'both' },
    })
  },

  scrollSnapType: ({ addDefaults, addUtilities }) => {
    addDefaults('scroll-snap-type', {
      '--tw-scroll-snap-strictness': 'proximity',
    })

    addUtilities({
      '.snap-none': { 'scroll-snap-type': 'none' },
      '.snap-x': {
        '@defaults scroll-snap-type': {},
        'scroll-snap-type': 'x var(--tw-scroll-snap-strictness)',
      },
      '.snap-y': {
        '@defaults scroll-snap-type': {},
        'scroll-snap-type': 'y var(--tw-scroll-snap-strictness)',
      },
      '.snap-both': {
        '@defaults scroll-snap-type': {},
        'scroll-snap-type': 'both var(--tw-scroll-snap-strictness)',
      },
      '.snap-mandatory': { '--tw-scroll-snap-strictness': 'mandatory' },
      '.snap-proximity': { '--tw-scroll-snap-strictness': 'proximity' },
    })
  },

  scrollSnapAlign: ({ addUtilities }) => {
    addUtilities({
      '.snap-start': { 'scroll-snap-align': 'start' },
      '.snap-end': { 'scroll-snap-align': 'end' },
      '.snap-center': { 'scroll-snap-align': 'center' },
      '.snap-align-none': { 'scroll-snap-align': 'none' },
    })
  },

  scrollSnapStop: ({ addUtilities }) => {
    addUtilities({
      '.snap-normal': { 'scroll-snap-stop': 'normal' },
      '.snap-always': { 'scroll-snap-stop': 'always' },
    })
  },

  scrollMargin: createUtilityPlugin(
    'scrollMargin',
    [
      ['scroll-m', ['scroll-margin']],
      [
        ['scroll-mx', ['scroll-margin-left', 'scroll-margin-right']],
        ['scroll-my', ['scroll-margin-top', 'scroll-margin-bottom']],
      ],
      [
        ['scroll-ms', ['scroll-margin-inline-start']],
        ['scroll-me', ['scroll-margin-inline-end']],
        ['scroll-mt', ['scroll-margin-top']],
        ['scroll-mr', ['scroll-margin-right']],
        ['scroll-mb', ['scroll-margin-bottom']],
        ['scroll-ml', ['scroll-margin-left']],
      ],
    ],
    { supportsNegativeValues: true }
  ),

  scrollPadding: createUtilityPlugin('scrollPadding', [
    ['scroll-p', ['scroll-padding']],
    [
      ['scroll-px', ['scroll-padding-left', 'scroll-padding-right']],
      ['scroll-py', ['scroll-padding-top', 'scroll-padding-bottom']],
    ],
    [
      ['scroll-ps', ['scroll-padding-inline-start']],
      ['scroll-pe', ['scroll-padding-inline-end']],
      ['scroll-pt', ['scroll-padding-top']],
      ['scroll-pr', ['scroll-padding-right']],
      ['scroll-pb', ['scroll-padding-bottom']],
      ['scroll-pl', ['scroll-padding-left']],
    ],
  ]),

  listStylePosition: ({ addUtilities }) => {
    addUtilities({
      '.list-inside': { 'list-style-position': 'inside' },
      '.list-outside': { 'list-style-position': 'outside' },
    })
  },
  listStyleType: createUtilityPlugin('listStyleType', [['list', ['listStyleType']]]),
  listStyleImage: createUtilityPlugin('listStyleImage', [['list-image', ['listStyleImage']]]),

  appearance: ({ addUtilities }) => {
    addUtilities({
      '.appearance-none': { appearance: 'none' },
      '.appearance-auto': { appearance: 'auto' },
    })
  },

  columns: createUtilityPlugin('columns', [['columns', ['columns']]]),

  breakBefore: ({ addUtilities }) => {
    addUtilities({
      '.break-before-auto': { 'break-before': 'auto' },
      '.break-before-avoid': { 'break-before': 'avoid' },
      '.break-before-all': { 'break-before': 'all' },
      '.break-before-avoid-page': { 'break-before': 'avoid-page' },
      '.break-before-page': { 'break-before': 'page' },
      '.break-before-left': { 'break-before': 'left' },
      '.break-before-right': { 'break-before': 'right' },
      '.break-before-column': { 'break-before': 'column' },
    })
  },

  breakInside: ({ addUtilities }) => {
    addUtilities({
      '.break-inside-auto': { 'break-inside': 'auto' },
      '.break-inside-avoid': { 'break-inside': 'avoid' },
      '.break-inside-avoid-page': { 'break-inside': 'avoid-page' },
      '.break-inside-avoid-column': { 'break-inside': 'avoid-column' },
    })
  },

  breakAfter: ({ addUtilities }) => {
    addUtilities({
      '.break-after-auto': { 'break-after': 'auto' },
      '.break-after-avoid': { 'break-after': 'avoid' },
      '.break-after-all': { 'break-after': 'all' },
      '.break-after-avoid-page': { 'break-after': 'avoid-page' },
      '.break-after-page': { 'break-after': 'page' },
      '.break-after-left': { 'break-after': 'left' },
      '.break-after-right': { 'break-after': 'right' },
      '.break-after-column': { 'break-after': 'column' },
    })
  },

  gridAutoColumns: createUtilityPlugin('gridAutoColumns', [['auto-cols', ['gridAutoColumns']]]),

  gridAutoFlow: ({ addUtilities }) => {
    addUtilities({
      '.grid-flow-row': { gridAutoFlow: 'row' },
      '.grid-flow-col': { gridAutoFlow: 'column' },
      '.grid-flow-dense': { gridAutoFlow: 'dense' },
      '.grid-flow-row-dense': { gridAutoFlow: 'row dense' },
      '.grid-flow-col-dense': { gridAutoFlow: 'column dense' },
    })
  },

  gridAutoRows: createUtilityPlugin('gridAutoRows', [['auto-rows', ['gridAutoRows']]]),
  gridTemplateColumns: createUtilityPlugin('gridTemplateColumns', [
    ['grid-cols', ['gridTemplateColumns']],
  ]),
  gridTemplateRows: createUtilityPlugin('gridTemplateRows', [['grid-rows', ['gridTemplateRows']]]),

  flexDirection: ({ addUtilities }) => {
    addUtilities({
      '.flex-row': { 'flex-direction': 'row' },
      '.flex-row-reverse': { 'flex-direction': 'row-reverse' },
      '.flex-col': { 'flex-direction': 'column' },
      '.flex-col-reverse': { 'flex-direction': 'column-reverse' },
    })
  },

  flexWrap: ({ addUtilities }) => {
    addUtilities({
      '.flex-wrap': { 'flex-wrap': 'wrap' },
      '.flex-wrap-reverse': { 'flex-wrap': 'wrap-reverse' },
      '.flex-nowrap': { 'flex-wrap': 'nowrap' },
    })
  },

  placeContent: ({ addUtilities }) => {
    addUtilities({
      '.place-content-center': { 'place-content': 'center' },
      '.place-content-start': { 'place-content': 'start' },
      '.place-content-end': { 'place-content': 'end' },
      '.place-content-between': { 'place-content': 'space-between' },
      '.place-content-around': { 'place-content': 'space-around' },
      '.place-content-evenly': { 'place-content': 'space-evenly' },
      '.place-content-baseline': { 'place-content': 'baseline' },
      '.place-content-stretch': { 'place-content': 'stretch' },
    })
  },

  placeItems: ({ addUtilities }) => {
    addUtilities({
      '.place-items-start': { 'place-items': 'start' },
      '.place-items-end': { 'place-items': 'end' },
      '.place-items-center': { 'place-items': 'center' },
      '.place-items-baseline': { 'place-items': 'baseline' },
      '.place-items-stretch': { 'place-items': 'stretch' },
    })
  },

  alignContent: ({ addUtilities }) => {
    addUtilities({
      '.content-normal': { 'align-content': 'normal' },
      '.content-center': { 'align-content': 'center' },
      '.content-start': { 'align-content': 'flex-start' },
      '.content-end': { 'align-content': 'flex-end' },
      '.content-between': { 'align-content': 'space-between' },
      '.content-around': { 'align-content': 'space-around' },
      '.content-evenly': { 'align-content': 'space-evenly' },
      '.content-baseline': { 'align-content': 'baseline' },
      '.content-stretch': { 'align-content': 'stretch' },
    })
  },

  alignItems: ({ addUtilities }) => {
    addUtilities({
      '.items-start': { 'align-items': 'flex-start' },
      '.items-end': { 'align-items': 'flex-end' },
      '.items-center': { 'align-items': 'center' },
      '.items-baseline': { 'align-items': 'baseline' },
      '.items-stretch': { 'align-items': 'stretch' },
    })
  },

  justifyContent: ({ addUtilities }) => {
    addUtilities({
      '.justify-normal': { 'justify-content': 'normal' },
      '.justify-start': { 'justify-content': 'flex-start' },
      '.justify-end': { 'justify-content': 'flex-end' },
      '.justify-center': { 'justify-content': 'center' },
      '.justify-between': { 'justify-content': 'space-between' },
      '.justify-around': { 'justify-content': 'space-around' },
      '.justify-evenly': { 'justify-content': 'space-evenly' },
      '.justify-stretch': { 'justify-content': 'stretch' },
    })
  },

  justifyItems: ({ addUtilities }) => {
    addUtilities({
      '.justify-items-start': { 'justify-items': 'start' },
      '.justify-items-end': { 'justify-items': 'end' },
      '.justify-items-center': { 'justify-items': 'center' },
      '.justify-items-stretch': { 'justify-items': 'stretch' },
    })
  },

  gap: createUtilityPlugin('gap', [
    ['gap', ['gap']],
    [
      ['gap-x', ['columnGap']],
      ['gap-y', ['rowGap']],
    ],
  ]),

  space: ({ matchUtilities, addUtilities, theme }) => {
    matchUtilities(
      {
        'space-x': (value) => {
          value = value === '0' ? '0px' : value

          return {
            '& > :not([hidden]) ~ :not([hidden])': {
              '--tw-space-x-reverse': '0',
              'margin-right': `calc(${value} * var(--tw-space-x-reverse))`,
              'margin-left': `calc(${value} * calc(1 - var(--tw-space-x-reverse)))`,
            },
          }
        },
        'space-y': (value) => {
          value = value === '0' ? '0px' : value

          return {
            '& > :not([hidden]) ~ :not([hidden])': {
              '--tw-space-y-reverse': '0',
              'margin-top': `calc(${value} * calc(1 - var(--tw-space-y-reverse)))`,
              'margin-bottom': `calc(${value} * var(--tw-space-y-reverse))`,
            },
          }
        },
      },
      { values: theme('space'), supportsNegativeValues: true }
    )

    addUtilities({
      '.space-y-reverse > :not([hidden]) ~ :not([hidden])': { '--tw-space-y-reverse': '1' },
      '.space-x-reverse > :not([hidden]) ~ :not([hidden])': { '--tw-space-x-reverse': '1' },
    })
  },

  divideWidth: ({ matchUtilities, addUtilities, theme }) => {
    matchUtilities(
      {
        'divide-x': (value) => {
          value = value === '0' ? '0px' : value

          return {
            '& > :not([hidden]) ~ :not([hidden])': {
              '@defaults border-width': {},
              '--tw-divide-x-reverse': '0',
              'border-right-width': `calc(${value} * var(--tw-divide-x-reverse))`,
              'border-left-width': `calc(${value} * calc(1 - var(--tw-divide-x-reverse)))`,
            },
          }
        },
        'divide-y': (value) => {
          value = value === '0' ? '0px' : value

          return {
            '& > :not([hidden]) ~ :not([hidden])': {
              '@defaults border-width': {},
              '--tw-divide-y-reverse': '0',
              'border-top-width': `calc(${value} * calc(1 - var(--tw-divide-y-reverse)))`,
              'border-bottom-width': `calc(${value} * var(--tw-divide-y-reverse))`,
            },
          }
        },
      },
      { values: theme('divideWidth'), type: ['line-width', 'length', 'any'] }
    )

    addUtilities({
      '.divide-y-reverse > :not([hidden]) ~ :not([hidden])': {
        '@defaults border-width': {},
        '--tw-divide-y-reverse': '1',
      },
      '.divide-x-reverse > :not([hidden]) ~ :not([hidden])': {
        '@defaults border-width': {},
        '--tw-divide-x-reverse': '1',
      },
    })
  },

  divideStyle: ({ addUtilities }) => {
    addUtilities({
      '.divide-solid > :not([hidden]) ~ :not([hidden])': { 'border-style': 'solid' },
      '.divide-dashed > :not([hidden]) ~ :not([hidden])': { 'border-style': 'dashed' },
      '.divide-dotted > :not([hidden]) ~ :not([hidden])': { 'border-style': 'dotted' },
      '.divide-double > :not([hidden]) ~ :not([hidden])': { 'border-style': 'double' },
      '.divide-none > :not([hidden]) ~ :not([hidden])': { 'border-style': 'none' },
    })
  },

  divideColor: ({ matchUtilities, theme, corePlugins }) => {
    matchUtilities(
      {
        divide: (value) => {
          if (!corePlugins('divideOpacity')) {
            return {
              ['& > :not([hidden]) ~ :not([hidden])']: {
                'border-color': toColorValue(value),
              },
            }
          }

          return {
            ['& > :not([hidden]) ~ :not([hidden])']: withAlphaVariable({
              color: value,
              property: 'border-color',
              variable: '--tw-divide-opacity',
            }),
          }
        },
      },
      {
        values: (({ DEFAULT: _, ...colors }) => colors)(flattenColorPalette(theme('divideColor'))),
        type: ['color', 'any'],
      }
    )
  },

  divideOpacity: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'divide-opacity': (value) => {
          return { [`& > :not([hidden]) ~ :not([hidden])`]: { '--tw-divide-opacity': value } }
        },
      },
      { values: theme('divideOpacity') }
    )
  },

  placeSelf: ({ addUtilities }) => {
    addUtilities({
      '.place-self-auto': { 'place-self': 'auto' },
      '.place-self-start': { 'place-self': 'start' },
      '.place-self-end': { 'place-self': 'end' },
      '.place-self-center': { 'place-self': 'center' },
      '.place-self-stretch': { 'place-self': 'stretch' },
    })
  },

  alignSelf: ({ addUtilities }) => {
    addUtilities({
      '.self-auto': { 'align-self': 'auto' },
      '.self-start': { 'align-self': 'flex-start' },
      '.self-end': { 'align-self': 'flex-end' },
      '.self-center': { 'align-self': 'center' },
      '.self-stretch': { 'align-self': 'stretch' },
      '.self-baseline': { 'align-self': 'baseline' },
    })
  },

  justifySelf: ({ addUtilities }) => {
    addUtilities({
      '.justify-self-auto': { 'justify-self': 'auto' },
      '.justify-self-start': { 'justify-self': 'start' },
      '.justify-self-end': { 'justify-self': 'end' },
      '.justify-self-center': { 'justify-self': 'center' },
      '.justify-self-stretch': { 'justify-self': 'stretch' },
    })
  },

  overflow: ({ addUtilities }) => {
    addUtilities({
      '.overflow-auto': { overflow: 'auto' },
      '.overflow-hidden': { overflow: 'hidden' },
      '.overflow-clip': { overflow: 'clip' },
      '.overflow-visible': { overflow: 'visible' },
      '.overflow-scroll': { overflow: 'scroll' },
      '.overflow-x-auto': { 'overflow-x': 'auto' },
      '.overflow-y-auto': { 'overflow-y': 'auto' },
      '.overflow-x-hidden': { 'overflow-x': 'hidden' },
      '.overflow-y-hidden': { 'overflow-y': 'hidden' },
      '.overflow-x-clip': { 'overflow-x': 'clip' },
      '.overflow-y-clip': { 'overflow-y': 'clip' },
      '.overflow-x-visible': { 'overflow-x': 'visible' },
      '.overflow-y-visible': { 'overflow-y': 'visible' },
      '.overflow-x-scroll': { 'overflow-x': 'scroll' },
      '.overflow-y-scroll': { 'overflow-y': 'scroll' },
    })
  },

  overscrollBehavior: ({ addUtilities }) => {
    addUtilities({
      '.overscroll-auto': { 'overscroll-behavior': 'auto' },
      '.overscroll-contain': { 'overscroll-behavior': 'contain' },
      '.overscroll-none': { 'overscroll-behavior': 'none' },
      '.overscroll-y-auto': { 'overscroll-behavior-y': 'auto' },
      '.overscroll-y-contain': { 'overscroll-behavior-y': 'contain' },
      '.overscroll-y-none': { 'overscroll-behavior-y': 'none' },
      '.overscroll-x-auto': { 'overscroll-behavior-x': 'auto' },
      '.overscroll-x-contain': { 'overscroll-behavior-x': 'contain' },
      '.overscroll-x-none': { 'overscroll-behavior-x': 'none' },
    })
  },

  scrollBehavior: ({ addUtilities }) => {
    addUtilities({
      '.scroll-auto': { 'scroll-behavior': 'auto' },
      '.scroll-smooth': { 'scroll-behavior': 'smooth' },
    })
  },

  textOverflow: ({ addUtilities }) => {
    addUtilities({
      '.truncate': { overflow: 'hidden', 'text-overflow': 'ellipsis', 'white-space': 'nowrap' },
      '.overflow-ellipsis': { 'text-overflow': 'ellipsis' }, // Deprecated
      '.text-ellipsis': { 'text-overflow': 'ellipsis' },
      '.text-clip': { 'text-overflow': 'clip' },
    })
  },

  hyphens: ({ addUtilities }) => {
    addUtilities({
      '.hyphens-none': { hyphens: 'none' },
      '.hyphens-manual': { hyphens: 'manual' },
      '.hyphens-auto': { hyphens: 'auto' },
    })
  },

  whitespace: ({ addUtilities }) => {
    addUtilities({
      '.whitespace-normal': { 'white-space': 'normal' },
      '.whitespace-nowrap': { 'white-space': 'nowrap' },
      '.whitespace-pre': { 'white-space': 'pre' },
      '.whitespace-pre-line': { 'white-space': 'pre-line' },
      '.whitespace-pre-wrap': { 'white-space': 'pre-wrap' },
      '.whitespace-break-spaces': { 'white-space': 'break-spaces' },
    })
  },

  textWrap: ({ addUtilities }) => {
    addUtilities({
      '.text-wrap': { 'text-wrap': 'wrap' },
      '.text-nowrap': { 'text-wrap': 'nowrap' },
      '.text-balance': { 'text-wrap': 'balance' },
      '.text-pretty': { 'text-wrap': 'pretty' },
    })
  },

  wordBreak: ({ addUtilities }) => {
    addUtilities({
      '.break-normal': { 'overflow-wrap': 'normal', 'word-break': 'normal' },
      '.break-words': { 'overflow-wrap': 'break-word' },
      '.break-all': { 'word-break': 'break-all' },
      '.break-keep': { 'word-break': 'keep-all' },
    })
  },

  borderRadius: createUtilityPlugin('borderRadius', [
    ['rounded', ['border-radius']],
    [
      ['rounded-s', ['border-start-start-radius', 'border-end-start-radius']],
      ['rounded-e', ['border-start-end-radius', 'border-end-end-radius']],
      ['rounded-t', ['border-top-left-radius', 'border-top-right-radius']],
      ['rounded-r', ['border-top-right-radius', 'border-bottom-right-radius']],
      ['rounded-b', ['border-bottom-right-radius', 'border-bottom-left-radius']],
      ['rounded-l', ['border-top-left-radius', 'border-bottom-left-radius']],
    ],
    [
      ['rounded-ss', ['border-start-start-radius']],
      ['rounded-se', ['border-start-end-radius']],
      ['rounded-ee', ['border-end-end-radius']],
      ['rounded-es', ['border-end-start-radius']],
      ['rounded-tl', ['border-top-left-radius']],
      ['rounded-tr', ['border-top-right-radius']],
      ['rounded-br', ['border-bottom-right-radius']],
      ['rounded-bl', ['border-bottom-left-radius']],
    ],
  ]),

  borderWidth: createUtilityPlugin(
    'borderWidth',
    [
      ['border', [['@defaults border-width', {}], 'border-width']],
      [
        ['border-x', [['@defaults border-width', {}], 'border-left-width', 'border-right-width']],
        ['border-y', [['@defaults border-width', {}], 'border-top-width', 'border-bottom-width']],
      ],
      [
        ['border-s', [['@defaults border-width', {}], 'border-inline-start-width']],
        ['border-e', [['@defaults border-width', {}], 'border-inline-end-width']],
        ['border-t', [['@defaults border-width', {}], 'border-top-width']],
        ['border-r', [['@defaults border-width', {}], 'border-right-width']],
        ['border-b', [['@defaults border-width', {}], 'border-bottom-width']],
        ['border-l', [['@defaults border-width', {}], 'border-left-width']],
      ],
    ],
    { type: ['line-width', 'length'] }
  ),

  borderStyle: ({ addUtilities }) => {
    addUtilities({
      '.border-solid': { 'border-style': 'solid' },
      '.border-dashed': { 'border-style': 'dashed' },
      '.border-dotted': { 'border-style': 'dotted' },
      '.border-double': { 'border-style': 'double' },
      '.border-hidden': { 'border-style': 'hidden' },
      '.border-none': { 'border-style': 'none' },
    })
  },

  borderColor: ({ matchUtilities, theme, corePlugins }) => {
    matchUtilities(
      {
        border: (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-color',
            variable: '--tw-border-opacity',
          })
        },
      },
      {
        values: (({ DEFAULT: _, ...colors }) => colors)(flattenColorPalette(theme('borderColor'))),
        type: ['color', 'any'],
      }
    )

    matchUtilities(
      {
        'border-x': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-left-color': toColorValue(value),
              'border-right-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: ['border-left-color', 'border-right-color'],
            variable: '--tw-border-opacity',
          })
        },
        'border-y': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-top-color': toColorValue(value),
              'border-bottom-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: ['border-top-color', 'border-bottom-color'],
            variable: '--tw-border-opacity',
          })
        },
      },
      {
        values: (({ DEFAULT: _, ...colors }) => colors)(flattenColorPalette(theme('borderColor'))),
        type: ['color', 'any'],
      }
    )

    matchUtilities(
      {
        'border-s': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-inline-start-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-inline-start-color',
            variable: '--tw-border-opacity',
          })
        },
        'border-e': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-inline-end-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-inline-end-color',
            variable: '--tw-border-opacity',
          })
        },
        'border-t': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-top-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-top-color',
            variable: '--tw-border-opacity',
          })
        },
        'border-r': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-right-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-right-color',
            variable: '--tw-border-opacity',
          })
        },
        'border-b': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-bottom-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-bottom-color',
            variable: '--tw-border-opacity',
          })
        },
        'border-l': (value) => {
          if (!corePlugins('borderOpacity')) {
            return {
              'border-left-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'border-left-color',
            variable: '--tw-border-opacity',
          })
        },
      },
      {
        values: (({ DEFAULT: _, ...colors }) => colors)(flattenColorPalette(theme('borderColor'))),
        type: ['color', 'any'],
      }
    )
  },

  borderOpacity: createUtilityPlugin('borderOpacity', [
    ['border-opacity', ['--tw-border-opacity']],
  ]),

  backgroundColor: ({ matchUtilities, theme, corePlugins }) => {
    matchUtilities(
      {
        bg: (value) => {
          if (!corePlugins('backgroundOpacity')) {
            return {
              'background-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: 'background-color',
            variable: '--tw-bg-opacity',
          })
        },
      },
      { values: flattenColorPalette(theme('backgroundColor')), type: ['color', 'any'] }
    )
  },

  backgroundOpacity: createUtilityPlugin('backgroundOpacity', [
    ['bg-opacity', ['--tw-bg-opacity']],
  ]),
  backgroundImage: createUtilityPlugin('backgroundImage', [['bg', ['background-image']]], {
    type: ['lookup', 'image', 'url'],
  }),
  gradientColorStops: (() => {
    function transparentTo(value) {
      return withAlphaValue(value, 0, 'rgb(255 255 255 / 0)')
    }

    return function ({ matchUtilities, theme, addDefaults }) {
      addDefaults('gradient-color-stops', {
        '--tw-gradient-from-position': ' ',
        '--tw-gradient-via-position': ' ',
        '--tw-gradient-to-position': ' ',
      })

      let options = {
        values: flattenColorPalette(theme('gradientColorStops')),
        type: ['color', 'any'],
      }

      let positionOptions = {
        values: theme('gradientColorStopPositions'),
        type: ['length', 'percentage'],
      }

      matchUtilities(
        {
          from: (value) => {
            let transparentToValue = transparentTo(value)

            return {
              '@defaults gradient-color-stops': {},
              '--tw-gradient-from': `${toColorValue(value)} var(--tw-gradient-from-position)`,
              '--tw-gradient-to': `${transparentToValue} var(--tw-gradient-to-position)`,
              '--tw-gradient-stops': `var(--tw-gradient-from), var(--tw-gradient-to)`,
            }
          },
        },
        options
      )

      matchUtilities(
        {
          from: (value) => {
            return {
              '--tw-gradient-from-position': value,
            }
          },
        },
        positionOptions
      )

      matchUtilities(
        {
          via: (value) => {
            let transparentToValue = transparentTo(value)

            return {
              '@defaults gradient-color-stops': {},
              '--tw-gradient-to': `${transparentToValue}  var(--tw-gradient-to-position)`,
              '--tw-gradient-stops': `var(--tw-gradient-from), ${toColorValue(
                value
              )} var(--tw-gradient-via-position), var(--tw-gradient-to)`,
            }
          },
        },
        options
      )

      matchUtilities(
        {
          via: (value) => {
            return {
              '--tw-gradient-via-position': value,
            }
          },
        },
        positionOptions
      )

      matchUtilities(
        {
          to: (value) => ({
            '@defaults gradient-color-stops': {},
            '--tw-gradient-to': `${toColorValue(value)} var(--tw-gradient-to-position)`,
          }),
        },
        options
      )

      matchUtilities(
        {
          to: (value) => {
            return {
              '--tw-gradient-to-position': value,
            }
          },
        },
        positionOptions
      )
    }
  })(),

  boxDecorationBreak: ({ addUtilities }) => {
    addUtilities({
      '.decoration-slice': { 'box-decoration-break': 'slice' }, // Deprecated
      '.decoration-clone': { 'box-decoration-break': 'clone' }, // Deprecated
      '.box-decoration-slice': { 'box-decoration-break': 'slice' },
      '.box-decoration-clone': { 'box-decoration-break': 'clone' },
    })
  },

  backgroundSize: createUtilityPlugin('backgroundSize', [['bg', ['background-size']]], {
    type: ['lookup', 'length', 'percentage', 'size'],
  }),

  backgroundAttachment: ({ addUtilities }) => {
    addUtilities({
      '.bg-fixed': { 'background-attachment': 'fixed' },
      '.bg-local': { 'background-attachment': 'local' },
      '.bg-scroll': { 'background-attachment': 'scroll' },
    })
  },

  backgroundClip: ({ addUtilities }) => {
    addUtilities({
      '.bg-clip-border': { 'background-clip': 'border-box' },
      '.bg-clip-padding': { 'background-clip': 'padding-box' },
      '.bg-clip-content': { 'background-clip': 'content-box' },
      '.bg-clip-text': { 'background-clip': 'text' },
    })
  },

  backgroundPosition: createUtilityPlugin('backgroundPosition', [['bg', ['background-position']]], {
    type: ['lookup', ['position', { preferOnConflict: true }]],
  }),

  backgroundRepeat: ({ addUtilities }) => {
    addUtilities({
      '.bg-repeat': { 'background-repeat': 'repeat' },
      '.bg-no-repeat': { 'background-repeat': 'no-repeat' },
      '.bg-repeat-x': { 'background-repeat': 'repeat-x' },
      '.bg-repeat-y': { 'background-repeat': 'repeat-y' },
      '.bg-repeat-round': { 'background-repeat': 'round' },
      '.bg-repeat-space': { 'background-repeat': 'space' },
    })
  },

  backgroundOrigin: ({ addUtilities }) => {
    addUtilities({
      '.bg-origin-border': { 'background-origin': 'border-box' },
      '.bg-origin-padding': { 'background-origin': 'padding-box' },
      '.bg-origin-content': { 'background-origin': 'content-box' },
    })
  },

  fill: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        fill: (value) => {
          return { fill: toColorValue(value) }
        },
      },
      { values: flattenColorPalette(theme('fill')), type: ['color', 'any'] }
    )
  },

  stroke: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        stroke: (value) => {
          return { stroke: toColorValue(value) }
        },
      },
      { values: flattenColorPalette(theme('stroke')), type: ['color', 'url', 'any'] }
    )
  },

  strokeWidth: createUtilityPlugin('strokeWidth', [['stroke', ['stroke-width']]], {
    type: ['length', 'number', 'percentage'],
  }),

  objectFit: ({ addUtilities }) => {
    addUtilities({
      '.object-contain': { 'object-fit': 'contain' },
      '.object-cover': { 'object-fit': 'cover' },
      '.object-fill': { 'object-fit': 'fill' },
      '.object-none': { 'object-fit': 'none' },
      '.object-scale-down': { 'object-fit': 'scale-down' },
    })
  },
  objectPosition: createUtilityPlugin('objectPosition', [['object', ['object-position']]]),

  padding: createUtilityPlugin('padding', [
    ['p', ['padding']],
    [
      ['px', ['padding-left', 'padding-right']],
      ['py', ['padding-top', 'padding-bottom']],
    ],
    [
      ['ps', ['padding-inline-start']],
      ['pe', ['padding-inline-end']],
      ['pt', ['padding-top']],
      ['pr', ['padding-right']],
      ['pb', ['padding-bottom']],
      ['pl', ['padding-left']],
    ],
  ]),

  textAlign: ({ addUtilities }) => {
    addUtilities({
      '.text-left': { 'text-align': 'left' },
      '.text-center': { 'text-align': 'center' },
      '.text-right': { 'text-align': 'right' },
      '.text-justify': { 'text-align': 'justify' },
      '.text-start': { 'text-align': 'start' },
      '.text-end': { 'text-align': 'end' },
    })
  },

  textIndent: createUtilityPlugin('textIndent', [['indent', ['text-indent']]], {
    supportsNegativeValues: true,
  }),

  verticalAlign: ({ addUtilities, matchUtilities }) => {
    addUtilities({
      '.align-baseline': { 'vertical-align': 'baseline' },
      '.align-top': { 'vertical-align': 'top' },
      '.align-middle': { 'vertical-align': 'middle' },
      '.align-bottom': { 'vertical-align': 'bottom' },
      '.align-text-top': { 'vertical-align': 'text-top' },
      '.align-text-bottom': { 'vertical-align': 'text-bottom' },
      '.align-sub': { 'vertical-align': 'sub' },
      '.align-super': { 'vertical-align': 'super' },
    })

    matchUtilities({ align: (value) => ({ 'vertical-align': value }) })
  },

  fontFamily: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        font: (value) => {
          let [families, options = {}] =
            Array.isArray(value) && isPlainObject(value[1]) ? value : [value]
          let { fontFeatureSettings, fontVariationSettings } = options

          return {
            'font-family': Array.isArray(families) ? families.join(', ') : families,
            ...(fontFeatureSettings === undefined
              ? {}
              : { 'font-feature-settings': fontFeatureSettings }),
            ...(fontVariationSettings === undefined
              ? {}
              : { 'font-variation-settings': fontVariationSettings }),
          }
        },
      },
      {
        values: theme('fontFamily'),
        type: ['lookup', 'generic-name', 'family-name'],
      }
    )
  },

  fontSize: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        text: (value, { modifier }) => {
          let [fontSize, options] = Array.isArray(value) ? value : [value]

          if (modifier) {
            return {
              'font-size': fontSize,
              'line-height': modifier,
            }
          }

          let { lineHeight, letterSpacing, fontWeight } = isPlainObject(options)
            ? options
            : { lineHeight: options }

          return {
            'font-size': fontSize,
            ...(lineHeight === undefined ? {} : { 'line-height': lineHeight }),
            ...(letterSpacing === undefined ? {} : { 'letter-spacing': letterSpacing }),
            ...(fontWeight === undefined ? {} : { 'font-weight': fontWeight }),
          }
        },
      },
      {
        values: theme('fontSize'),
        modifiers: theme('lineHeight'),
        type: ['absolute-size', 'relative-size', 'length', 'percentage'],
      }
    )
  },

  fontWeight: createUtilityPlugin('fontWeight', [['font', ['fontWeight']]], {
    type: ['lookup', 'number', 'any'],
  }),

  textTransform: ({ addUtilities }) => {
    addUtilities({
      '.uppercase': { 'text-transform': 'uppercase' },
      '.lowercase': { 'text-transform': 'lowercase' },
      '.capitalize': { 'text-transform': 'capitalize' },
      '.normal-case': { 'text-transform': 'none' },
    })
  },

  fontStyle: ({ addUtilities }) => {
    addUtilities({
      '.italic': { 'font-style': 'italic' },
      '.not-italic': { 'font-style': 'normal' },
    })
  },

  fontVariantNumeric: ({ addDefaults, addUtilities }) => {
    let cssFontVariantNumericValue =
      'var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)'

    addDefaults('font-variant-numeric', {
      '--tw-ordinal': ' ',
      '--tw-slashed-zero': ' ',
      '--tw-numeric-figure': ' ',
      '--tw-numeric-spacing': ' ',
      '--tw-numeric-fraction': ' ',
    })

    addUtilities({
      '.normal-nums': { 'font-variant-numeric': 'normal' },
      '.ordinal': {
        '@defaults font-variant-numeric': {},
        '--tw-ordinal': 'ordinal',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.slashed-zero': {
        '@defaults font-variant-numeric': {},
        '--tw-slashed-zero': 'slashed-zero',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.lining-nums': {
        '@defaults font-variant-numeric': {},
        '--tw-numeric-figure': 'lining-nums',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.oldstyle-nums': {
        '@defaults font-variant-numeric': {},
        '--tw-numeric-figure': 'oldstyle-nums',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.proportional-nums': {
        '@defaults font-variant-numeric': {},
        '--tw-numeric-spacing': 'proportional-nums',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.tabular-nums': {
        '@defaults font-variant-numeric': {},
        '--tw-numeric-spacing': 'tabular-nums',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.diagonal-fractions': {
        '@defaults font-variant-numeric': {},
        '--tw-numeric-fraction': 'diagonal-fractions',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
      '.stacked-fractions': {
        '@defaults font-variant-numeric': {},
        '--tw-numeric-fraction': 'stacked-fractions',
        'font-variant-numeric': cssFontVariantNumericValue,
      },
    })
  },

  lineHeight: createUtilityPlugin('lineHeight', [['leading', ['lineHeight']]]),
  letterSpacing: createUtilityPlugin('letterSpacing', [['tracking', ['letterSpacing']]], {
    supportsNegativeValues: true,
  }),

  textColor: ({ matchUtilities, theme, corePlugins }) => {
    matchUtilities(
      {
        text: (value) => {
          if (!corePlugins('textOpacity')) {
            return { color: toColorValue(value) }
          }

          return withAlphaVariable({
            color: value,
            property: 'color',
            variable: '--tw-text-opacity',
          })
        },
      },
      { values: flattenColorPalette(theme('textColor')), type: ['color', 'any'] }
    )
  },

  textOpacity: createUtilityPlugin('textOpacity', [['text-opacity', ['--tw-text-opacity']]]),

  textDecoration: ({ addUtilities }) => {
    addUtilities({
      '.underline': { 'text-decoration-line': 'underline' },
      '.overline': { 'text-decoration-line': 'overline' },
      '.line-through': { 'text-decoration-line': 'line-through' },
      '.no-underline': { 'text-decoration-line': 'none' },
    })
  },

  textDecorationColor: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        decoration: (value) => {
          return { 'text-decoration-color': toColorValue(value) }
        },
      },
      { values: flattenColorPalette(theme('textDecorationColor')), type: ['color', 'any'] }
    )
  },

  textDecorationStyle: ({ addUtilities }) => {
    addUtilities({
      '.decoration-solid': { 'text-decoration-style': 'solid' },
      '.decoration-double': { 'text-decoration-style': 'double' },
      '.decoration-dotted': { 'text-decoration-style': 'dotted' },
      '.decoration-dashed': { 'text-decoration-style': 'dashed' },
      '.decoration-wavy': { 'text-decoration-style': 'wavy' },
    })
  },

  textDecorationThickness: createUtilityPlugin(
    'textDecorationThickness',
    [['decoration', ['text-decoration-thickness']]],
    { type: ['length', 'percentage'] }
  ),

  textUnderlineOffset: createUtilityPlugin(
    'textUnderlineOffset',
    [['underline-offset', ['text-underline-offset']]],
    { type: ['length', 'percentage', 'any'] }
  ),

  fontSmoothing: ({ addUtilities }) => {
    addUtilities({
      '.antialiased': {
        '-webkit-font-smoothing': 'antialiased',
        '-moz-osx-font-smoothing': 'grayscale',
      },
      '.subpixel-antialiased': {
        '-webkit-font-smoothing': 'auto',
        '-moz-osx-font-smoothing': 'auto',
      },
    })
  },

  placeholderColor: ({ matchUtilities, theme, corePlugins }) => {
    matchUtilities(
      {
        placeholder: (value) => {
          if (!corePlugins('placeholderOpacity')) {
            return {
              '&::placeholder': {
                color: toColorValue(value),
              },
            }
          }

          return {
            '&::placeholder': withAlphaVariable({
              color: value,
              property: 'color',
              variable: '--tw-placeholder-opacity',
            }),
          }
        },
      },
      { values: flattenColorPalette(theme('placeholderColor')), type: ['color', 'any'] }
    )
  },

  placeholderOpacity: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'placeholder-opacity': (value) => {
          return { ['&::placeholder']: { '--tw-placeholder-opacity': value } }
        },
      },
      { values: theme('placeholderOpacity') }
    )
  },

  caretColor: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        caret: (value) => {
          return { 'caret-color': toColorValue(value) }
        },
      },
      { values: flattenColorPalette(theme('caretColor')), type: ['color', 'any'] }
    )
  },

  accentColor: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        accent: (value) => {
          return { 'accent-color': toColorValue(value) }
        },
      },
      { values: flattenColorPalette(theme('accentColor')), type: ['color', 'any'] }
    )
  },

  opacity: createUtilityPlugin('opacity', [['opacity', ['opacity']]]),

  backgroundBlendMode: ({ addUtilities }) => {
    addUtilities({
      '.bg-blend-normal': { 'background-blend-mode': 'normal' },
      '.bg-blend-multiply': { 'background-blend-mode': 'multiply' },
      '.bg-blend-screen': { 'background-blend-mode': 'screen' },
      '.bg-blend-overlay': { 'background-blend-mode': 'overlay' },
      '.bg-blend-darken': { 'background-blend-mode': 'darken' },
      '.bg-blend-lighten': { 'background-blend-mode': 'lighten' },
      '.bg-blend-color-dodge': { 'background-blend-mode': 'color-dodge' },
      '.bg-blend-color-burn': { 'background-blend-mode': 'color-burn' },
      '.bg-blend-hard-light': { 'background-blend-mode': 'hard-light' },
      '.bg-blend-soft-light': { 'background-blend-mode': 'soft-light' },
      '.bg-blend-difference': { 'background-blend-mode': 'difference' },
      '.bg-blend-exclusion': { 'background-blend-mode': 'exclusion' },
      '.bg-blend-hue': { 'background-blend-mode': 'hue' },
      '.bg-blend-saturation': { 'background-blend-mode': 'saturation' },
      '.bg-blend-color': { 'background-blend-mode': 'color' },
      '.bg-blend-luminosity': { 'background-blend-mode': 'luminosity' },
    })
  },

  mixBlendMode: ({ addUtilities }) => {
    addUtilities({
      '.mix-blend-normal': { 'mix-blend-mode': 'normal' },
      '.mix-blend-multiply': { 'mix-blend-mode': 'multiply' },
      '.mix-blend-screen': { 'mix-blend-mode': 'screen' },
      '.mix-blend-overlay': { 'mix-blend-mode': 'overlay' },
      '.mix-blend-darken': { 'mix-blend-mode': 'darken' },
      '.mix-blend-lighten': { 'mix-blend-mode': 'lighten' },
      '.mix-blend-color-dodge': { 'mix-blend-mode': 'color-dodge' },
      '.mix-blend-color-burn': { 'mix-blend-mode': 'color-burn' },
      '.mix-blend-hard-light': { 'mix-blend-mode': 'hard-light' },
      '.mix-blend-soft-light': { 'mix-blend-mode': 'soft-light' },
      '.mix-blend-difference': { 'mix-blend-mode': 'difference' },
      '.mix-blend-exclusion': { 'mix-blend-mode': 'exclusion' },
      '.mix-blend-hue': { 'mix-blend-mode': 'hue' },
      '.mix-blend-saturation': { 'mix-blend-mode': 'saturation' },
      '.mix-blend-color': { 'mix-blend-mode': 'color' },
      '.mix-blend-luminosity': { 'mix-blend-mode': 'luminosity' },
      '.mix-blend-plus-darker': { 'mix-blend-mode': 'plus-darker' },
      '.mix-blend-plus-lighter': { 'mix-blend-mode': 'plus-lighter' },
    })
  },

  boxShadow: (() => {
    let transformValue = transformThemeValue('boxShadow')
    let defaultBoxShadow = [
      `var(--tw-ring-offset-shadow, 0 0 #0000)`,
      `var(--tw-ring-shadow, 0 0 #0000)`,
      `var(--tw-shadow)`,
    ].join(', ')

    return function ({ matchUtilities, addDefaults, theme }) {
      addDefaults('box-shadow', {
        '--tw-ring-offset-shadow': '0 0 #0000',
        '--tw-ring-shadow': '0 0 #0000',
        '--tw-shadow': '0 0 #0000',
        '--tw-shadow-colored': '0 0 #0000',
      })

      matchUtilities(
        {
          shadow: (value) => {
            value = transformValue(value)

            let ast = parseBoxShadowValue(value)
            for (let shadow of ast) {
              // Don't override color if the whole shadow is a variable
              if (!shadow.valid) {
                continue
              }

              shadow.color = 'var(--tw-shadow-color)'
            }

            return {
              '@defaults box-shadow': {},
              '--tw-shadow': value === 'none' ? '0 0 #0000' : value,
              '--tw-shadow-colored': value === 'none' ? '0 0 #0000' : formatBoxShadowValue(ast),
              'box-shadow': defaultBoxShadow,
            }
          },
        },
        { values: theme('boxShadow'), type: ['shadow'] }
      )
    }
  })(),

  boxShadowColor: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        shadow: (value) => {
          return {
            '--tw-shadow-color': toColorValue(value),
            '--tw-shadow': 'var(--tw-shadow-colored)',
          }
        },
      },
      { values: flattenColorPalette(theme('boxShadowColor')), type: ['color', 'any'] }
    )
  },

  outlineStyle: ({ addUtilities }) => {
    addUtilities({
      '.outline-none': {
        outline: '2px solid transparent',
        'outline-offset': '2px',
      },
      '.outline': { 'outline-style': 'solid' },
      '.outline-dashed': { 'outline-style': 'dashed' },
      '.outline-dotted': { 'outline-style': 'dotted' },
      '.outline-double': { 'outline-style': 'double' },
    })
  },

  outlineWidth: createUtilityPlugin('outlineWidth', [['outline', ['outline-width']]], {
    type: ['length', 'number', 'percentage'],
  }),

  outlineOffset: createUtilityPlugin('outlineOffset', [['outline-offset', ['outline-offset']]], {
    type: ['length', 'number', 'percentage', 'any'],
    supportsNegativeValues: true,
  }),

  outlineColor: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        outline: (value) => {
          return { 'outline-color': toColorValue(value) }
        },
      },
      { values: flattenColorPalette(theme('outlineColor')), type: ['color', 'any'] }
    )
  },

  ringWidth: ({ matchUtilities, addDefaults, addUtilities, theme, config }) => {
    let ringColorDefault = (() => {
      if (flagEnabled(config(), 'respectDefaultRingColorOpacity')) {
        return theme('ringColor.DEFAULT')
      }

      let ringOpacityDefault = theme('ringOpacity.DEFAULT', '0.5')

      if (!theme('ringColor')?.DEFAULT) {
        return `rgb(147 197 253 / ${ringOpacityDefault})`
      }

      return withAlphaValue(
        theme('ringColor')?.DEFAULT,
        ringOpacityDefault,
        `rgb(147 197 253 / ${ringOpacityDefault})`
      )
    })()

    addDefaults('ring-width', {
      '--tw-ring-inset': ' ',
      '--tw-ring-offset-width': theme('ringOffsetWidth.DEFAULT', '0px'),
      '--tw-ring-offset-color': theme('ringOffsetColor.DEFAULT', '#fff'),
      '--tw-ring-color': ringColorDefault,
      '--tw-ring-offset-shadow': '0 0 #0000',
      '--tw-ring-shadow': '0 0 #0000',
      '--tw-shadow': '0 0 #0000',
      '--tw-shadow-colored': '0 0 #0000',
    })

    matchUtilities(
      {
        ring: (value) => {
          return {
            '@defaults ring-width': {},
            '--tw-ring-offset-shadow': `var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)`,
            '--tw-ring-shadow': `var(--tw-ring-inset) 0 0 0 calc(${value} + var(--tw-ring-offset-width)) var(--tw-ring-color)`,
            'box-shadow': [
              `var(--tw-ring-offset-shadow)`,
              `var(--tw-ring-shadow)`,
              `var(--tw-shadow, 0 0 #0000)`,
            ].join(', '),
          }
        },
      },
      { values: theme('ringWidth'), type: 'length' }
    )

    addUtilities({
      '.ring-inset': { '@defaults ring-width': {}, '--tw-ring-inset': 'inset' },
    })
  },

  ringColor: ({ matchUtilities, theme, corePlugins }) => {
    matchUtilities(
      {
        ring: (value) => {
          if (!corePlugins('ringOpacity')) {
            return {
              '--tw-ring-color': toColorValue(value),
            }
          }

          return withAlphaVariable({
            color: value,
            property: '--tw-ring-color',
            variable: '--tw-ring-opacity',
          })
        },
      },
      {
        values: Object.fromEntries(
          Object.entries(flattenColorPalette(theme('ringColor'))).filter(
            ([modifier]) => modifier !== 'DEFAULT'
          )
        ),
        type: ['color', 'any'],
      }
    )
  },

  ringOpacity: (helpers) => {
    let { config } = helpers

    return createUtilityPlugin('ringOpacity', [['ring-opacity', ['--tw-ring-opacity']]], {
      filterDefault: !flagEnabled(config(), 'respectDefaultRingColorOpacity'),
    })(helpers)
  },
  ringOffsetWidth: createUtilityPlugin(
    'ringOffsetWidth',
    [['ring-offset', ['--tw-ring-offset-width']]],
    { type: 'length' }
  ),

  ringOffsetColor: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'ring-offset': (value) => {
          return {
            '--tw-ring-offset-color': toColorValue(value),
          }
        },
      },
      { values: flattenColorPalette(theme('ringOffsetColor')), type: ['color', 'any'] }
    )
  },

  blur: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        blur: (value) => {
          return {
            '--tw-blur': `blur(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('blur') }
    )
  },

  brightness: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        brightness: (value) => {
          return {
            '--tw-brightness': `brightness(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('brightness') }
    )
  },

  contrast: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        contrast: (value) => {
          return {
            '--tw-contrast': `contrast(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('contrast') }
    )
  },

  dropShadow: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'drop-shadow': (value) => {
          return {
            '--tw-drop-shadow': Array.isArray(value)
              ? value.map((v) => `drop-shadow(${v})`).join(' ')
              : `drop-shadow(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('dropShadow') }
    )
  },

  grayscale: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        grayscale: (value) => {
          return {
            '--tw-grayscale': `grayscale(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('grayscale') }
    )
  },

  hueRotate: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'hue-rotate': (value) => {
          return {
            '--tw-hue-rotate': `hue-rotate(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('hueRotate'), supportsNegativeValues: true }
    )
  },

  invert: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        invert: (value) => {
          return {
            '--tw-invert': `invert(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('invert') }
    )
  },

  saturate: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        saturate: (value) => {
          return {
            '--tw-saturate': `saturate(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('saturate') }
    )
  },

  sepia: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        sepia: (value) => {
          return {
            '--tw-sepia': `sepia(${value})`,
            '@defaults filter': {},
            filter: cssFilterValue,
          }
        },
      },
      { values: theme('sepia') }
    )
  },

  filter: ({ addDefaults, addUtilities }) => {
    addDefaults('filter', {
      '--tw-blur': ' ',
      '--tw-brightness': ' ',
      '--tw-contrast': ' ',
      '--tw-grayscale': ' ',
      '--tw-hue-rotate': ' ',
      '--tw-invert': ' ',
      '--tw-saturate': ' ',
      '--tw-sepia': ' ',
      '--tw-drop-shadow': ' ',
    })
    addUtilities({
      '.filter': { '@defaults filter': {}, filter: cssFilterValue },
      '.filter-none': { filter: 'none' },
    })
  },

  backdropBlur: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-blur': (value) => {
          return {
            '--tw-backdrop-blur': `blur(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropBlur') }
    )
  },

  backdropBrightness: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-brightness': (value) => {
          return {
            '--tw-backdrop-brightness': `brightness(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropBrightness') }
    )
  },

  backdropContrast: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-contrast': (value) => {
          return {
            '--tw-backdrop-contrast': `contrast(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropContrast') }
    )
  },

  backdropGrayscale: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-grayscale': (value) => {
          return {
            '--tw-backdrop-grayscale': `grayscale(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropGrayscale') }
    )
  },

  backdropHueRotate: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-hue-rotate': (value) => {
          return {
            '--tw-backdrop-hue-rotate': `hue-rotate(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropHueRotate'), supportsNegativeValues: true }
    )
  },

  backdropInvert: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-invert': (value) => {
          return {
            '--tw-backdrop-invert': `invert(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropInvert') }
    )
  },

  backdropOpacity: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-opacity': (value) => {
          return {
            '--tw-backdrop-opacity': `opacity(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropOpacity') }
    )
  },

  backdropSaturate: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-saturate': (value) => {
          return {
            '--tw-backdrop-saturate': `saturate(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropSaturate') }
    )
  },

  backdropSepia: ({ matchUtilities, theme }) => {
    matchUtilities(
      {
        'backdrop-sepia': (value) => {
          return {
            '--tw-backdrop-sepia': `sepia(${value})`,
            '@defaults backdrop-filter': {},
            'backdrop-filter': cssBackdropFilterValue,
          }
        },
      },
      { values: theme('backdropSepia') }
    )
  },

  backdropFilter: ({ addDefaults, addUtilities }) => {
    addDefaults('backdrop-filter', {
      '--tw-backdrop-blur': ' ',
      '--tw-backdrop-brightness': ' ',
      '--tw-backdrop-contrast': ' ',
      '--tw-backdrop-grayscale': ' ',
      '--tw-backdrop-hue-rotate': ' ',
      '--tw-backdrop-invert': ' ',
      '--tw-backdrop-opacity': ' ',
      '--tw-backdrop-saturate': ' ',
      '--tw-backdrop-sepia': ' ',
    })
    addUtilities({
      '.backdrop-filter': {
        '@defaults backdrop-filter': {},
        'backdrop-filter': cssBackdropFilterValue,
      },
      '.backdrop-filter-none': { 'backdrop-filter': 'none' },
    })
  },

  transitionProperty: ({ matchUtilities, theme }) => {
    let defaultTimingFunction = theme('transitionTimingFunction.DEFAULT')
    let defaultDuration = theme('transitionDuration.DEFAULT')

    matchUtilities(
      {
        transition: (value) => {
          return {
            'transition-property': value,
            ...(value === 'none'
              ? {}
              : {
                  'transition-timing-function': defaultTimingFunction,
                  'transition-duration': defaultDuration,
                }),
          }
        },
      },
      { values: theme('transitionProperty') }
    )
  },

  transitionDelay: createUtilityPlugin('transitionDelay', [['delay', ['transitionDelay']]]),
  transitionDuration: createUtilityPlugin(
    'transitionDuration',
    [['duration', ['transitionDuration']]],
    { filterDefault: true }
  ),
  transitionTimingFunction: createUtilityPlugin(
    'transitionTimingFunction',
    [['ease', ['transitionTimingFunction']]],
    { filterDefault: true }
  ),
  willChange: createUtilityPlugin('willChange', [['will-change', ['will-change']]]),
  contain: ({ addDefaults, addUtilities }) => {
    let cssContainValue =
      'var(--tw-contain-size) var(--tw-contain-layout) var(--tw-contain-paint) var(--tw-contain-style)'

    addDefaults('contain', {
      '--tw-contain-size': ' ',
      '--tw-contain-layout': ' ',
      '--tw-contain-paint': ' ',
      '--tw-contain-style': ' ',
    })

    addUtilities({
      '.contain-none': { contain: 'none' },
      '.contain-content': { contain: 'content' },
      '.contain-strict': { contain: 'strict' },
      '.contain-size': {
        '@defaults contain': {},
        '--tw-contain-size': 'size',
        contain: cssContainValue,
      },
      '.contain-inline-size': {
        '@defaults contain': {},
        '--tw-contain-size': 'iğôğôğôğôğôğôğôğôàp£P{ 	€—Ğ•P3	0™p—°ê á	 â	ğôğôğôğôğôğôğôğôğôğôà@à Hìğ±	Ğ±	ğôğôğôàP{ 	€—€–P30	0™`˜ğê á	 â	ğô@ÀH í í`­	Ğ	`hàh
€‰ 	0šĞP30	›–í@í ˜ pøø`­	@À,Ğp€ ğ0P€Ğğ 	0š°›P3ğôğôğôğôğôğôğôğôğô àI`Iàøğ±	Ğ±	ğôğôğô0°0œ f @JPJ@ùPù`­	@cpc@P‰0@ š f	›Àœ€ø°ø ˜ĞğôğôğôğôğôğôğôğôğôğôğôğôğôĞI ¹	ğ=ğ±	Ğ±	ğôğôğôğôğôğôğôğC Ğ—°ĞÀ°™Ğà á	 â	ğôğ°•  ğî	0ï	pï	°ï	ğï	 ğ	0#àù	0Fà" #`­	p% 0 'p""À"ÀšP˜Ğ